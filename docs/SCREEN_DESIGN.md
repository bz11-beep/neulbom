# 늘봄 화면설계서

## 문서 정보

| 항목 | 내용 |
|------|------|
| 프로젝트명 | 늘봄 (AI 기반 노인 돌봄 음성 분석 시스템) |
| 문서 버전 | 1.0 |
| 작성일 | 2026-02-09 |
| 개발 기간 | 2025년 12월 ~ 2026년 2월 (2025.12.05 ~ 2026.02.10) |
| 개발 인원 | 5명 (최선임 총괄기획, 지태민 프론트엔드, 김승민 백엔드, 최대영 DB/IoT, 조민솔 기획/문서) |
| 문서 유형 | 화면설계서 (Screen Design Document) |
| 관련 문서 | REQUIREMENTS.md, TECH_STACK.md |

---

## 1. 화면 목록

| 화면 ID | 화면명 | 경로 | 접근 권한 | 분류 | 관련 요구사항 | 관련 유스케이스 | 관련 테스트케이스 |
|---------|--------|------|-----------|------|--------------|----------------|------------------|
| SCR-001 | 로그인 | /login (login.html) | 비인증 사용자 | 인증 | UR-002 | UC-001 로그인 | TC-001 |
| SCR-002 | 회원가입 | /signup (signup.html) | 비인증 사용자 | 인증 | UR-001 | UC-002 회원가입 | TC-002 |
| SCR-003 | 대시보드 | /dashboard (dashboard.html) | 보호자 (인증) | 메인 | DR-001, DR-005 | UC-003 대시보드 조회 | TC-003 |
| SCR-004 | 보미와 대화 | /bomi (bomi.html) | 보호자 (인증) | 핵심 기능 | VA-001~VA-006, AI-001~AI-004 | UC-004 음성 대화 | TC-004 |
| SCR-005 | 상세 리포트 | /report (report.html) | 보호자 (인증) | 분석 | DR-002~DR-005 | UC-005 리포트 조회 | TC-005 |
| SCR-006 | 헬스체크 | /health (health.html) | 보호자 (인증) | 모니터링 | DV-002 | UC-006 기기 상태 확인 | TC-006 |
| SCR-007 | 마이페이지 | /mypage (mypage.html) | 보호자 (인증) | 설정 | UR-003~UR-005, DV-001 | UC-007 정보 관리 | TC-007 |
| SCR-008 | 알림 모달 | 모달 (modals.html) | 보호자 (인증) | 공통 | AL-001, AL-002 | UC-008 알림 확인 | TC-008 |
| SCR-009 | 기기 추가 모달 | 모달 (modals.html) | 보호자 (인증) | 공통 | DV-001 | UC-009 기기 등록 | TC-009 |
| SCR-010 | 정보 수정 모달 | 모달 (modals.html) | 보호자 (인증) | 공통 | UR-003, UR-004 | UC-010 정보 수정 | TC-010 |

---

## 2. 공통 레이아웃

### 2.1 SPA 구조

본 시스템은 SPA(Single Page Application) 구조로, `index.html` 하나의 파일에 모든 페이지를 `{% include %}` 방식으로 포함합니다. 각 화면은 `<div class="page">` 또는 `<div class="view">` 단위로 분리되며, JavaScript의 `showPage()` 함수로 화면을 전환합니다.

```
index.html (SPA Root)
  |-- login.html        (page: login-page)         비인증 화면
  |-- signup.html        (page: signup-page)         비인증 화면
  |-- dashboard.html     (page: main-app)            인증 후 메인 프레임
  |    |-- dashboard-view     (view)                  대시보드
  |    |-- bomi-chat-view     (view)                  보미와 대화
  |    |-- report-view        (view)                  상세 리포트
  |    |-- healthcheck-view   (view)                  헬스체크
  |    |-- mypage-view        (view)                  마이페이지
  |-- modals.html        알림/기기추가/정보수정 모달
```

### 2.2 비인증 레이아웃 (로그인/회원가입)

```
+================================================================+
|                                                                  |
|                     [전체 화면 배경]                               |
|              linear-gradient(cream -> soft)                       |
|                                                                  |
|            +----------------------------------+                   |
|            |                                  |                   |
|            |        [카드 컨텐츠]               |                   |
|            |    (glassmorphism card style)     |                   |
|            |                                  |                   |
|            +----------------------------------+                   |
|                                                                  |
+================================================================+
```

### 2.3 인증 후 메인 레이아웃 (main-app)

```
+================================================================+
|                          main-app                                |
+==============+=================================================+
|              |                                                   |
|   좌측       |              메인 콘텐츠 영역                       |
|   사이드바    |              (.view.active)                        |
|   (nav)     |                                                    |
|              |  +-------------------------------------------+    |
| +----------+ |  |                                           |    |
| | [보미]    | |  |     dashboard-view                        |    |
| | 늘봄      | |  |     bomi-chat-view                        |    |
| +----------+ |  |     report-view                            |    |
| | 대시보드   | |  |     healthcheck-view                      |    |
| | 보미와대화 | |  |     mypage-view                            |    |
| | 리포트    | |  |                                           |    |
| | 헬스체크   | |  |     (한 번에 하나만 active)                  |    |
| | 마이페이지 | |  |                                           |    |
| +----------+ |  +-------------------------------------------+    |
| | [알림벨]  | |                                                   |
| | [로그아웃] | |                                                   |
| +----------+ |                                                   |
+==============+=================================================+
```

### 2.4 사이드바 네비게이션 (main-nav) 상세

```
+------------------+
|  [보미 이미지]     |    nav-brand
|   늘봄            |    nav-logo-text
+------------------+
|                   |
|  [dashboard]      |    nav-item (active 시 하이라이트)
|  대시보드          |    icon: dashboard
|                   |
|  [mic]            |    nav-item
|  보미와 대화       |    icon: mic
|                   |
|  [assessment]     |    nav-item
|  리포트           |    icon: assessment
|                   |
|  [monitor_heart]  |    nav-item
|  헬스체크          |    icon: monitor_heart
|                   |
|  [person]         |    nav-item
|  마이페이지        |    icon: person
|                   |
+------------------+
|                   |
|  [notifications]  |    nav-bell (뱃지: 읽지 않은 알림 수)
|  [logout]         |    nav-logout
+------------------+
```

---

## 3. 화면 상세 설계

---

### 3.1 SCR-001 로그인 화면 (login.html)

#### 와이어프레임

```
+================================================================+
|                                                                  |
|          background: linear-gradient(cream -> soft)               |
|                                                                  |
|              +------------------------------+                     |
|              |                              |                     |
|              |      +---------+             |                     |
|              |      | [보미]   |             |                     |
|              |      | 이미지   |             |                     |
|              |      +---------+             |                     |
|              |    (bomi-welcome.png)         |                     |
|              |   (float 애니메이션 적용)       |                     |
|              |                              |                     |
|              |      *** 늘봄 ***             |                     |
|              |  "언제나 곁에서 함께하는        |                     |
|              |      따뜻한 돌봄"              |                     |
|              |                              |                     |
|              |  +------------------------+  |                     |
|              |  | [person] 아이디         |  |                     |
|              |  +------------------------+  |                     |
|              |                              |                     |
|              |  +------------------------+  |                     |
|              |  | [lock]   비밀번호       |  |                     |
|              |  +------------------------+  |                     |
|              |                              |                     |
|              |  +------------------------+  |                     |
|              |  | [favorite] 로그인       |  |   btn-primary      |
|              |  +------------------------+  |                     |
|              |                              |                     |
|              |  아직 회원이 아니신가요?       |                     |
|              |     **회원가입**              |                     |
|              |                              |                     |
|              +------------------------------+                     |
|                     login-card                                    |
|                (max-width: 420px)                                 |
|                                                                  |
+================================================================+
```

#### 구성요소

| 요소 ID | 요소명 | 타입 | 설명 |
|---------|--------|------|------|
| login-page | 로그인 페이지 컨테이너 | div.page | 페이지 최상위 컨테이너, 초기 active 상태 |
| login-form | 로그인 폼 | form | 아이디/비밀번호 입력 폼 |
| login-username | 아이디 입력 | input[text] | Material Icon `person` 접두 아이콘 |
| login-password | 비밀번호 입력 | input[password] | Material Icon `lock` 접두 아이콘 |
| - | 로그인 버튼 | button[submit] | `favorite` 아이콘, btn-primary btn-full |
| - | 회원가입 링크 | button.btn-link | showPage('signup-page') 호출 |
| - | 보미 이미지 | img | bomi-welcome.png, float 애니메이션 |

#### 이벤트 처리

| 이벤트 ID | 트리거 | 액션 | API |
|-----------|--------|------|-----|
| EVT-001-01 | 로그인 폼 submit | handleLogin() - 아이디/비밀번호 검증 후 인증 요청 | POST /api/login |
| EVT-001-02 | 회원가입 링크 클릭 | showPage('signup-page') - 회원가입 화면 전환 | - |
| EVT-001-03 | 로그인 성공 | showPage('main-app') - 메인 앱 화면 전환, 사용자 데이터 로드 | - |
| EVT-001-04 | 로그인 실패 | 토스트 알림 표시 (아이디/비밀번호 불일치) | - |

---

### 3.2 SCR-002 회원가입 화면 (signup.html)

#### 3.2.1 전체 구조

회원가입은 3단계 스텝 방식으로 구성됩니다.

```
+================================================================+
|                     signup-container                              |
|                                                                  |
|  +----[1]----+-----[line]-----+----[2]----+-----[line]-----+----[3]----+
|  | 보호자    |               | 어르신    |               | 기기     |
|  | 정보      |               | 등록      |               | 등록     |
|  +-----------+               +-----------+               +----------+
|              progress-steps (active 스텝 강조)                    |
|                                                                  |
|  +-----------------------------------------------------------+  |
|  |                                                           |  |
|  |     signup-step-1 / signup-step-2 / signup-step-3         |  |
|  |     (한 번에 하나만 표시)                                    |  |
|  |                                                           |  |
|  +-----------------------------------------------------------+  |
+================================================================+
```

#### 3.2.2 Step 1 - 보호자 정보 입력

```
+================================================================+
|  [1]--*--[2]------[3]    (Step 1 active)                         |
|                                                                  |
|  +----------------------------------------------------------+   |
|  | [보미-plant.png]  보호자 정보 입력                          |   |
|  |                  "소중한 가족을 돌보는 보호자님의 정보를 ..."  |   |
|  +----------------------------------------------------------+   |
|                                                                  |
|  +-- 계정 정보 [account_circle] --------------------------+      |
|  |                                                       |      |
|  |  아이디 *                                              |      |
|  |  +-----------------------------+ [중복확인]             |      |
|  |  | 영문, 숫자 4-20자            |                      |      |
|  |  +-----------------------------+                      |      |
|  |                                                       |      |
|  |  비밀번호 *                                            |      |
|  |  +------------------------------------------+         |      |
|  |  | 영문, 숫자, 특수문자 포함 8자 이상           |         |      |
|  |  +------------------------------------------+         |      |
|  |                                                       |      |
|  |  비밀번호 확인 *                                       |      |
|  |  +------------------------------------------+         |      |
|  |  | 비밀번호를 다시 입력해주세요                  |         |      |
|  |  +------------------------------------------+         |      |
|  +-------------------------------------------------------+      |
|                                                                  |
|  +-- 개인 정보 [badge] --------------------------------+         |
|  |                                                     |         |
|  |  이름 *        [ 실명을 입력해주세요          ]       |         |
|  |  휴대폰 번호 * [ 010-0000-0000               ]       |         |
|  +-----------------------------------------------------+         |
|                                                                  |
|  +-- 주소 [home] ----------------------------------------+       |
|  |                                                       |       |
|  |  우편번호 *  [        ] [주소검색]                      |       |
|  |  기본주소 *  [ 주소검색을 이용해주세요 (readonly) ]      |       |
|  |  상세주소 *  [ 상세주소를 입력해주세요            ]      |       |
|  +-------------------------------------------------------+       |
|                                                                  |
|  +-- 약관 동의 [gavel] ----------------------------------+       |
|  |                                                       |       |
|  |  [v] 전체 동의                                         |       |
|  |  ─────────────────────────────                         |       |
|  |  [v] [필수] 서비스 이용약관 동의          [expand_more]  |       |
|  |  [v] [필수] 개인정보 수집 및 이용 동의     [expand_more]  |       |
|  |  [v] [필수] 민감정보 처리 동의            [expand_more]  |       |
|  |  [ ] [선택] 마케팅 정보 수신 동의         [expand_more]  |       |
|  +-------------------------------------------------------+       |
|                                                                  |
|  +-- 버튼 -----------------------------------------------+       |
|  |      [취소]                    [다음 단계 ->]           |       |
|  +-------------------------------------------------------+       |
+================================================================+
```

#### 3.2.3 Step 2 - 어르신 정보 등록

```
+================================================================+
|  [1]------[2]--*--[3]    (Step 2 active)                         |
|                                                                  |
|  +----------------------------------------------------------+   |
|  | [보미-good.png]  어르신 정보 등록                           |   |
|  |                 "돌봄 받으실 어르신의 정보를 입력해주세요"    |   |
|  +----------------------------------------------------------+   |
|                                                                  |
|  +-- 기본 정보 [elderly] --------------------------------+       |
|  |                                                       |       |
|  |  성함 *          [ 어르신 성함                  ]       |       |
|  |                                                       |       |
|  |  생년월일 *      [년도 v] [월 v] [일 v]                 |       |
|  |                                                       |       |
|  |  성별 *          (o) 남성   (o) 여성                    |       |
|  |                                                       |       |
|  |  연락처 유형 *   [휴대전화 v]                            |       |
|  |  연락처 *        [ 010-0000-0000              ]        |       |
|  |                                                       |       |
|  |  가족관계 *      [선택해주세요 v]                        |       |
|  |                 (부모님/조부모님/배우자/친척/기타)        |       |
|  |                                                       |       |
|  |  주거형태 *      (o) 자녀와 거주                        |       |
|  |                 (o) 독거                               |       |
|  |                 (o) 부부 거주                           |       |
|  +-------------------------------------------------------+       |
|                                                                  |
|  +-- 거주지 주소 [location_on] --------------------------+       |
|  |                                                       |       |
|  |  우편번호 *      [        ] [주소검색]                  |       |
|  |  기본주소 *      [ (readonly)                  ]       |       |
|  |  상세주소 *      [                             ]       |       |
|  +-------------------------------------------------------+       |
|                                                                  |
|  +-- 특이사항 [medical_information] ---------------------+       |
|  |                                                       |       |
|  |  건강 관련 메모                                        |       |
|  |  +-------------------------------------------+        |       |
|  |  | 복용 중인 약, 주의사항 등                    |        |       |
|  |  | (textarea, 3rows)                          |        |       |
|  |  +-------------------------------------------+        |       |
|  +-------------------------------------------------------+       |
|                                                                  |
|  +-- 어르신 정보 이용 동의 [verified_user] --------------+       |
|  |                                                       |       |
|  |  [v] 전체 동의                                         |       |
|  |  ─────────────────────────────                         |       |
|  |  [v] [필수] 어르신 개인정보 수집 동의    [expand_more]   |       |
|  |  [v] [필수] 건강 모니터링 동의          [expand_more]   |       |
|  |  [v] [필수] 법정대리인(보호자) 동의 확인 [expand_more]   |       |
|  +-------------------------------------------------------+       |
|                                                                  |
|  +-- 버튼 -----------------------------------------------+       |
|  |  [<- 이전 단계]                    [다음 단계 ->]       |       |
|  +-------------------------------------------------------+       |
+================================================================+
```

#### 3.2.4 Step 3 - IoT 기기 등록

```
+================================================================+
|  [1]------[2]------[3]--*  (Step 3 active)                       |
|                                                                  |
|  +----------------------------------------------------------+   |
|  | [보미-happy.png]  IoT 기기 등록                             |   |
|  |                  "어르신 댁에 설치할 기기를 등록해주세요"     |   |
|  +----------------------------------------------------------+   |
|                                                                  |
|  +-- 기기 등록 방식 [qr_code_scanner] -------------------+       |
|  |                                                       |       |
|  |  +---[QR 스캔]---+   +---[직접 입력]---+               |       |
|  |  | (active tab)  |   |               |               |       |
|  |  +---------------+   +---------------+               |       |
|  |                                                       |       |
|  |  -- QR 스캔 모드 --                                    |       |
|  |  +-------------------------------------------+        |       |
|  |  |      [qr_code_scanner]                     |        |       |
|  |  |   카메라 권한을 허용하고                     |        |       |
|  |  |   기기의 QR 코드를 스캔해주세요              |        |       |
|  |  |       [QR 스캔 시뮬레이션]                   |        |       |
|  |  +-------------------------------------------+        |       |
|  |                                                       |       |
|  |  -- 직접 입력 모드 (숨김) --                            |       |
|  |  시리얼 번호 *   [ 기기 시리얼 번호           ]         |       |
|  |  기기 이름       [ 예: 거실 환경센서           ]         |       |
|  |  설치 위치       [거실 v]                               |       |
|  |            [+ 기기 추가]                                |       |
|  +-------------------------------------------------------+       |
|                                                                  |
|  +-- 등록된 기기 [devices] ------------------------------+       |
|  |                                                       |       |
|  |      [devices_off]                                     |       |
|  |   등록된 기기가 없습니다                                |       |
|  |                                                       |       |
|  +-------------------------------------------------------+       |
|                                                                  |
|  +-- 버튼 -----------------------------------------------+       |
|  |  [<- 이전]    [나중에 등록]    [체크 가입 완료]           |       |
|  +-------------------------------------------------------+       |
+================================================================+
```

#### 구성요소 (회원가입 전체)

| 요소 ID | 요소명 | 타입 | 설명 |
|---------|--------|------|------|
| signup-page | 회원가입 페이지 | div.page | 3단계 스텝 컨테이너 |
| signup-step-1 | Step 1 보호자 정보 | div.signup-step | 계정/개인/주소/약관 입력 |
| signup-step-2 | Step 2 어르신 정보 | div.signup-step | 기본정보/주소/특이사항/동의 |
| signup-step-3 | Step 3 기기 등록 | div.signup-step | QR스캔/직접입력/기기목록 |
| signup-username | 아이디 입력 | input[text] | data-rule="username", 중복확인 버튼 연동 |
| signup-password | 비밀번호 입력 | input[password] | data-rule="password" |
| signup-password-confirm | 비밀번호 확인 | input[password] | 비밀번호 일치 검증 |
| signup-name | 이름 입력 | input[text] | data-rule="name" |
| signup-phone | 휴대폰 번호 | input[tel] | data-rule="phone", 010-0000-0000 포맷 |
| signup-zipcode | 우편번호 | input[text] | readonly, Daum Postcode API 연동 |
| signup-address | 기본주소 | input[text] | readonly, 주소검색 결과 자동 입력 |
| signup-address-detail | 상세주소 | input[text] | 직접 입력 |
| terms-all | 전체 동의 | checkbox | toggleAllTerms() 호출 |
| senior-name | 어르신 성함 | input[text] | data-rule="name" |
| senior-birth-year/month/day | 생년월일 | select x3 | 년/월/일 드롭다운 |
| senior-gender | 성별 | radio | male / female |
| senior-phone-type | 연락처 유형 | select | mobile / landline |
| senior-phone | 어르신 연락처 | input[tel] | data-rule="phone" |
| senior-relation | 가족관계 | select | parent/grandparent/spouse/relative/other |
| senior-living | 주거형태 | radio | 가족/독거/부부 |
| senior-zipcode | 어르신 우편번호 | input[text] | readonly, Daum Postcode API |
| senior-address | 어르신 기본주소 | input[text] | readonly |
| senior-address-detail | 어르신 상세주소 | input[text] | 직접 입력 |
| senior-notes | 건강 메모 | textarea | 복용약, 주의사항 등 자유 기술 |
| senior-terms-all | 어르신 약관 전체 동의 | checkbox | toggleAllSeniorTerms() |
| device-serial | 시리얼 번호 | input[text] | 기기 고유 식별번호 |
| device-name | 기기 이름 | input[text] | 사용자 지정 기기명 |
| device-location | 설치 위치 | select | living/bedroom/kitchen/bathroom/entrance |
| device-list | 등록 기기 목록 | div | 등록된 기기 카드 리스트 |

#### 이벤트 처리 (회원가입)

| 이벤트 ID | 트리거 | 액션 | API |
|-----------|--------|------|-----|
| EVT-002-01 | 중복확인 버튼 클릭 | checkDuplicate() - 아이디 중복 검사 | POST /api/check-duplicate |
| EVT-002-02 | 주소검색 버튼 클릭 (보호자) | searchAddress('signup') - Daum Postcode API 팝업 | 외부: Daum Postcode API |
| EVT-002-03 | 주소검색 버튼 클릭 (어르신) | searchAddress('senior') - Daum Postcode API 팝업 | 외부: Daum Postcode API |
| EVT-002-04 | 전체 동의 체크 변경 | toggleAllTerms() - 하위 약관 일괄 체크/해제 | - |
| EVT-002-05 | Step 1 "다음 단계" 클릭 | nextStep(1) - 유효성 검증 후 Step 2 전환 | - |
| EVT-002-06 | Step 2 "다음 단계" 클릭 | nextStep(2) - 유효성 검증 후 Step 3 전환 | - |
| EVT-002-07 | Step 2 "이전 단계" 클릭 | prevStep(2) - Step 1로 복귀 | - |
| EVT-002-08 | QR 스캔 시뮬레이션 클릭 | simulateQRScan() - QR 스캔 시뮬레이션 | - |
| EVT-002-09 | 기기 추가 클릭 | addDeviceToList() - 기기 목록에 추가 | - |
| EVT-002-10 | "나중에 등록" 클릭 | skipDeviceAndComplete() - 기기 없이 가입 완료 | POST /api/signup |
| EVT-002-11 | "가입 완료" 클릭 | completeSignup() - 전체 데이터 서버 전송 | POST /api/signup |
| EVT-002-12 | 연락처 유형 변경 | updatePhonePlaceholder() - placeholder 업데이트 | - |
| EVT-002-13 | "취소" 클릭 | showPage('login-page') - 로그인 화면 복귀 | - |

---

### 3.3 SCR-003 대시보드 화면 (dashboard.html)

#### 와이어프레임

```
+================================================================+
|  [사이드바]  |                  대시보드 (dashboard-view)          |
|             |                                                    |
|             |  +-- 인사말 (greeting) -----------------------+    |
|             |  | [보미-transparent]                          |    |
|             |  |  안녕하세요, {보호자명}님!                     |    |
|             |  |  {어르신명}의 오늘 하루도 늘봄이 함께합니다     |    |
|             |  |                          2026년 2월 9일 (일) |    |
|             |  +--------------------------------------------+    |
|             |                                                    |
|             |  +-- 4개 메트릭 카드 (metrics-grid) -----------+    |
|             |  |                                             |    |
|             |  | +--------+ +--------+ +--------+ +--------+|    |
|             |  | |감정상태 | |활동량   | |수면시간 | |주거형태 ||    |
|             |  | |[mood]  | |[run]   | |[bed]   | |[home]  ||    |
|             |  | |긍정적   | |0회감지  | |7.5시간  | |독거    ||    |
|             |  | |[좋음]   | |[측정중] | |[양호]   | |[주택]  ||    |
|             |  | +--------+ +--------+ +--------+ +--------+|    |
|             |  +---------------------------------------------+    |
|             |                                                    |
|             |  +-- 상단 행 (dashboard-top-row) ---------------+   |
|             |  |                                              |   |
|             |  | +-- 감정 분석 카드 --+ +-- 인지 활동 카드 --+ |   |
|             |  | | [mood] 감정 분석   | | [psychology]       | |   |
|             |  | |           [긍정적] | | 인지 활동   [활발]  | |   |
|             |  | |                   | |                    | |   |
|             |  | | +--------------+  | | [AI 추천 티커]     | |   |
|             |  | | |  Bubble      |  | | "오후 산책 권장..." | |   |
|             |  | | |  Chart       |  | |                    | |   |
|             |  | | | (emotion-    |  | | +--------------+   | |   |
|             |  | | |  bubble-     |  | | | Radar Chart  |   | |   |
|             |  | | |  chart)      |  | | | (cognitive-  |   | |   |
|             |  | | +--------------+  | | |  chart)      |   | |   |
|             |  | |                   | | +--------------+   | |   |
|             |  | | 범례:             | |                    | |   |
|             |  | | *긍정 *슬픔 *불안 | | [chat]대화 30분     | |   |
|             |  | | *분노 *상처 *당황 | | [book]독서 15분     | |   |
|             |  | |                   | | [tv]  TV 45분      | |   |
|             |  | +-------------------+ +--------------------+ |   |
|             |  +----------------------------------------------+   |
|             |                                                    |
|             |  +-- 하단 행 (dashboard-bottom-row) ------------+   |
|             |  |                                              |   |
|             |  | +-- 실내 환경 카드 (full-width) -----------+  |   |
|             |  | | [thermostat] 실내 환경                    |  |   |
|             |  | |                                          |  |   |
|             |  | |  [temp]24.5C  [water]45%  [air]좋음      |  |   |
|             |  | |                                          |  |   |
|             |  | | +------------------------------------+   |  |   |
|             |  | | |  Line Chart (env-chart)             |   |  |   |
|             |  | | |  온도/습도/공기질 시계열 그래프        |   |  |   |
|             |  | | +------------------------------------+   |  |   |
|             |  | +------------------------------------------+  |   |
|             |  +----------------------------------------------+   |
|             |                                                    |
|             |  +-- 사이드 패널 (dashboard-side) --------------+   |
|             |  |                                              |   |
|             |  | +-- 최근 알림 카드 --+                        |   |
|             |  | | [notifications]    |                        |   |
|             |  | | 최근 알림   [전체]  |                        |   |
|             |  | | +---------------+  |                        |   |
|             |  | | | notification  |  |                        |   |
|             |  | | | list (compact)|  |                        |   |
|             |  | | +---------------+  |                        |   |
|             |  | +--------------------+                        |   |
|             |  |                                              |   |
|             |  | +-- 기기 상태 카드 --+                        |   |
|             |  | | [sensors] 기기상태 |                        |   |
|             |  | |              [+]   |                        |   |
|             |  | | +---------------+  |                        |   |
|             |  | | | device status |  |                        |   |
|             |  | | | list (compact)|  |                        |   |
|             |  | | +---------------+  |                        |   |
|             |  | +--------------------+                        |   |
|             |  +----------------------------------------------+   |
+================================================================+
```

#### 구성요소

| 요소 ID | 요소명 | 타입 | 설명 |
|---------|--------|------|------|
| dashboard-view | 대시보드 뷰 | div.view | 메인 앱 내 대시보드 컨테이너 |
| user-name-display | 보호자명 표시 | span | 인사말 영역에 보호자 이름 동적 표시 |
| senior-name-display | 어르신명 표시 | span | 인사말 영역에 어르신 이름 동적 표시 |
| current-date | 현재 날짜 | div | 오늘 날짜 자동 표시 |
| - | 감정 상태 카드 | div.metric-card.emotion | sentiment_satisfied 아이콘, 뱃지(좋음/보통/주의) |
| activity-value | 활동량 카드 값 | span.metric-value | "N회 감지" 형태 표시 |
| activity-badge | 활동량 뱃지 | span.metric-badge | 측정중/보통/양호/주의 상태 |
| - | 수면 시간 카드 | div.metric-card.sleep | bedtime 아이콘, 시간 표시 |
| - | 주거형태 카드 | div.metric-card.health | home 아이콘, 독거/가족/부부 표시 |
| emotion-bubble-chart | 감정 버블 차트 | canvas | Chart.js Bubble Chart, 6가지 감정 시각화 |
| cognitive-chart | 인지 활동 차트 | canvas | Chart.js Radar Chart, 인지 활동 지표 |
| env-chart | 환경 모니터링 차트 | canvas | Chart.js Line Chart, 온도/습도/공기질 |
| env-display-temp | 현재 온도 | span | 실시간 온도값 표시 |
| env-display-humidity | 현재 습도 | span | 실시간 습도값 표시 |
| env-display-air | 공기질 상태 | span | 좋음/보통/나쁨 텍스트 |
| notification-list | 알림 리스트 | div | compact 모드 최근 알림 목록 |
| device-status-list | 기기 상태 리스트 | div | compact 모드 기기 상태 표시 |

#### 이벤트 처리

| 이벤트 ID | 트리거 | 액션 | API |
|-----------|--------|------|-----|
| EVT-003-01 | 페이지 로드 | 대시보드 데이터 로드 (활동량, 환경, 알림, 기기) | POST /api/activity-daily |
| EVT-003-02 | "전체" 알림 버튼 클릭 | openNotificationModal() - 알림 모달 열기 | POST /api/alert-list |
| EVT-003-03 | 기기 추가 [+] 버튼 클릭 | openAddDeviceModal() - 기기 추가 모달 열기 | - |
| EVT-003-04 | 알림 벨 클릭 (네비) | openNotificationModal() - 알림 모달 열기 | GET /api/check-alert |
| EVT-003-05 | 환경 차트 주기적 갱신 | 센서 데이터 실시간 갱신 (polling) | GET /api/check-sensor |

---

### 3.4 SCR-004 보미와 대화 화면 (bomi.html)

#### 와이어프레임

```
+================================================================+
|  [사이드바]  |         보미와 대화 (bomi-chat-view)                |
|             |                                                    |
|             |  +-- 헤더 -----------------------------------+     |
|             |  | 보미와 대화                                 |     |
|             |  | "음성으로 보미와 대화하고 실시간 분석 결과를    |     |
|             |  |  확인하세요"                                |     |
|             |  +--------------------------------------------+     |
|             |                                                    |
|             |  +-- bomi-chat-container ----------------------+    |
|             |  |                                             |    |
|             |  | +-- chat-section ----+ +-- analysis ------+ |    |
|             |  | |                    | |                   | |    |
|             |  | | +--- 초기 상태 --+ | | +-- 실시간분석 -+ | |    |
|             |  | | |               | | | | [analytics]   | | |    |
|             |  | | | [보미 아바타]  | | | | 실시간 분석    | | |    |
|             |  | | |               | | | |               | | |    |
|             |  | | | [보미-welcome]| | | | [mood]        | | |    |
|             |  | | |               | | | | 감정 상태     | | |    |
|             |  | | | "안녕하세요!  | | | | -> 분석 대기   | | |    |
|             |  | | |  저는 보미    | | | |               | | |    |
|             |  | | |  예요"       | | | | [graphic_eq]  | | |    |
|             |  | | |               | | | | 음성 톤       | | |    |
|             |  | | | (대기 중)     | | | | -> 분석 대기   | | |    |
|             |  | | |               | | | |               | | |    |
|             |  | | | ~~~ 음성파형  | | | | [speed]       | | |    |
|             |  | | | ~~~          | | | | 말하기 속도    | | |    |
|             |  | | +---------------+ | | | -> 분석 대기   | | |    |
|             |  | |                    | | |               | | |    |
|             |  | | +--- 대화내용 ---+ | | | [voice_over]  | | |    |
|             |  | | | chat-messages  | | | | 명확도        | | |    |
|             |  | | | (스크롤 영역)  | | | | -> 분석 대기   | | |    |
|             |  | | +----------------+ | | +---------------+ | |    |
|             |  | |                    | |                   | |    |
|             |  | | [실시간 텍스트]     | | +-- 대화 기록 --+ | |    |
|             |  | |                    | | | [history]     | | |    |
|             |  | | +--- 컨트롤 ----+ | | | 대화 기록      | | |    |
|             |  | | |               | | | |               | | |    |
|             |  | | |  +--------+  | | | | [chat] 0      | | |    |
|             |  | | |  |  MIC   |  | | | |  총 대화       | | |    |
|             |  | | |  | (녹음  |  | | | |               | | |    |
|             |  | | |  |  버튼) |  | | | | [schedule] 0분 | | |    |
|             |  | | |  +--------+  | | | |  대화 시간     | | |    |
|             |  | | | "버튼을 눌러 | | | |               | | |    |
|             |  | | |  말하기"     | | | | [text] 0      | | |    |
|             |  | | +---------------+ | | |  단어 수       | | |    |
|             |  | +--------------------+ | +---------------+ | |    |
|             |  | |                    | |                   | |    |
|             |  +--+--------------------+-+-------------------+-+   |
|             |                                                    |
+================================================================+
```

#### 구성요소

| 요소 ID | 요소명 | 타입 | 설명 |
|---------|--------|------|------|
| bomi-chat-view | 보미 대화 뷰 | div.view | 음성 대화 전체 컨테이너 |
| bomi-avatar | 보미 아바타 | div | bomi-welcome.png 이미지 표시 |
| bomi-status | 보미 상태 | div | "대기 중", "듣고 있어요", "분석 중" 등 |
| voice-wave | 음성 파형 | div | 5개 span 애니메이션 (녹음 시 활성화) |
| chat-messages | 대화 메시지 영역 | div | 사용자/보미 대화 버블 표시 (스크롤) |
| realtime-text | 실시간 텍스트 | div | STT 실시간 텍스트 표시 |
| record-btn | 녹음 버튼 | button | 원형 마이크 버튼 (토글) |
| record-icon | 녹음 아이콘 | span | mic / stop 아이콘 전환 |
| record-hint | 녹음 힌트 | span | "버튼을 눌러 말하기" / "녹음 중..." |
| chat-empty-state | 초기 빈 상태 | div | 대화 시작 전 안내 표시 |
| analysis-emotion | 감정 분석 결과 | span | 분석된 감정 텍스트 (기쁨/슬픔/분노 등) |
| analysis-tone | 음성 톤 결과 | span | 음성 피치/톤 분석 결과 |
| analysis-speed | 말하기 속도 | span | WPM 기반 속도 분석 결과 |
| analysis-clarity | 명확도 | span | 발화 명확도 점수 |
| stat-total | 총 대화 수 | span | 현재 세션 대화 횟수 |
| stat-duration | 대화 시간 | span | 누적 대화 시간 (분) |
| stat-words | 단어 수 | span | 누적 발화 단어 수 |

#### 이벤트 처리

| 이벤트 ID | 트리거 | 액션 | API |
|-----------|--------|------|-----|
| EVT-004-01 | 녹음 버튼 클릭 | toggleRecording() - 녹음 시작/중지 토글 | - |
| EVT-004-02 | 녹음 시작 | MediaRecorder API로 마이크 캡처 시작, 음성 파형 애니메이션 활성화 | - |
| EVT-004-03 | 녹음 중지 | 오디오 데이터를 서버로 전송, SSE 스트리밍 연결 | POST /api/analyze |
| EVT-004-04 | SSE 진행 이벤트 수신 | 실시간 분석 진행 상태 UI 업데이트 (STT/감정/LLM/TTS 단계) | SSE Stream |
| EVT-004-05 | 분석 완료 | 대화 메시지 추가, 실시간 분석 패널 업데이트, 통계 갱신 | - |
| EVT-004-06 | TTS 응답 수신 | 보미 응답 음성 자동 재생 | GET /api/tts-audio/{file} |
| EVT-004-07 | 음성 세션 생성 | 대화 시작 시 sensing_id 발급 | POST /api/create-voice-session |

---

### 3.5 SCR-005 상세 리포트 화면 (report.html)

#### 와이어프레임

```
+================================================================+
|  [사이드바]  |           상세 리포트 (report-view)                 |
|             |                                                    |
|             |  +-- 헤더 -----------------------------------+     |
|             |  | 상세 리포트                                 |     |
|             |  | "어르신의 건강 데이터를 한눈에 확인하세요"     |     |
|             |  +--------------------------------------------+     |
|             |                                                    |
|             |  +-- 주의/위험 발생 이력 카드 -----------------+     |
|             |  | [warning] 주의/위험 발생 이력               |     |
|             |  | +---------------------------------------+  |     |
|             |  | |  alert-history-list                    |  |     |
|             |  | |  (경고/위험 알림 이력 리스트)             |  |     |
|             |  | +---------------------------------------+  |     |
|             |  +--------------------------------------------+     |
|             |                                                    |
|             |  +-- 기간 선택기 ------------------------------+    |
|             |  |  [주간*]  [월간]                             |    |
|             |  +---------------------------------------------+    |
|             |                                                    |
|             |  +-- report-grid (2x2 + 1) --------------------+    |
|             |  |                                             |    |
|             |  | +-- 활동량 차트 ---+ +-- 수면 패턴 차트 --+  |    |
|             |  | | [show_chart]    | | [nights_stay]      |  |    |
|             |  | | {기간} 활동량    | | {기간} 수면 패턴    |  |    |
|             |  | |                 | |                    |  |    |
|             |  | | +--------+     | | +--------+         |  |    |
|             |  | | | Bar    |     | | | Line   |         |  |    |
|             |  | | | Chart  |     | | | Chart  |         |  |    |
|             |  | | |(activity|    | | |(sleep- |         |  |    |
|             |  | | | -chart)|    | | | chart) |         |  |    |
|             |  | | +--------+     | | +--------+         |  |    |
|             |  | +-----------------+ +--------------------+  |    |
|             |  |                                             |    |
|             |  | +-- 감정 변화 차트 --+ +-- 인지 활동 차트-+  |    |
|             |  | | [sentiment]       | | [psychology]     |  |    |
|             |  | | {기간} 감정 변화   | | {기간} 인지 활동  |  |    |
|             |  | |                   | |                  |  |    |
|             |  | | +----------+     | | +----------+     |  |    |
|             |  | | | Stacked  |     | | | Bar      |     |  |    |
|             |  | | | Area     |     | | | Chart    |     |  |    |
|             |  | | | Chart    |     | | |(cognitive|     |  |    |
|             |  | | |(emotion- |     | | | -report) |     |  |    |
|             |  | | | report)  |     | | +----------+     |  |    |
|             |  | | +----------+     | |                  |  |    |
|             |  | +-------------------+ +------------------+  |    |
|             |  |                                             |    |
|             |  | +-- 환경 추이 (full-width) ---------------+  |    |
|             |  | | [eco] {기간} 환경 추이                    |  |    |
|             |  | |                                          |  |    |
|             |  | | +-------------------------------------+  |  |    |
|             |  | | | Line Chart (env-report-chart)        |  |  |    |
|             |  | | | 온도/습도/공기질 추이                  |  |  |    |
|             |  | | +-------------------------------------+  |  |    |
|             |  | +------------------------------------------+  |    |
|             |  +---------------------------------------------+    |
+================================================================+
```

#### 구성요소

| 요소 ID | 요소명 | 타입 | 설명 |
|---------|--------|------|------|
| report-view | 리포트 뷰 | div.view | 상세 리포트 전체 컨테이너 |
| alert-history-list | 알림 이력 리스트 | div | 주의/위험 발생 이력 목록 |
| - | 주간 버튼 | button.period-btn | 주간 데이터 조회 (기본 active) |
| - | 월간 버튼 | button.period-btn | 월간 데이터 조회 |
| activity-report-title | 활동량 제목 | span | "주간" 또는 "월간" 동적 변경 |
| activity-chart | 활동량 차트 | canvas | Chart.js Bar Chart, 일별 활동 감지 횟수 |
| sleep-report-title | 수면 제목 | span | 기간 텍스트 동적 변경 |
| sleep-chart | 수면 패턴 차트 | canvas | Chart.js Line Chart, 수면 시간 추이 |
| emotion-report-title | 감정 제목 | span | 기간 텍스트 동적 변경 |
| emotion-report-chart | 감정 변화 차트 | canvas | Chart.js Stacked Area Chart, 6가지 감정 비율 |
| cognitive-report-title | 인지 활동 제목 | span | 기간 텍스트 동적 변경 |
| cognitive-report-chart | 인지 활동 차트 | canvas | Chart.js Bar Chart, 인지 활동 지표 |
| env-report-title | 환경 추이 제목 | span | 기간 텍스트 동적 변경 |
| env-report-chart | 환경 추이 차트 | canvas | Chart.js Line Chart, 환경 데이터 추이 |

#### 이벤트 처리

| 이벤트 ID | 트리거 | 액션 | API |
|-----------|--------|------|-----|
| EVT-005-01 | 뷰 진입 | 주간 리포트 데이터 로드 | POST /api/activity-weekly |
| EVT-005-02 | "주간" 버튼 클릭 | changeReportPeriod('weekly', this) - 주간 데이터 조회 및 차트 갱신 | POST /api/activity-weekly |
| EVT-005-03 | "월간" 버튼 클릭 | changeReportPeriod('monthly', this) - 월간 데이터 조회 및 차트 갱신 | POST /api/activity-monthly |
| EVT-005-04 | 기간 변경 시 | 모든 차트 제목 텍스트 ("주간"/"월간") 동적 업데이트 | - |

---

### 3.6 SCR-006 헬스체크 화면 (health.html)

#### 와이어프레임

```
+================================================================+
|  [사이드바]  |         헬스체크 (healthcheck-view)                 |
|             |                                                    |
|             |  +-- Grafana 대시보드 (전체 영역) ---------------+   |
|             |  |                                              |   |
|             |  |  +--- iframe (grafana-iframe) ------------+  |   |
|             |  |  |                                        |  |   |
|             |  |  |   Grafana 모니터링 대시보드              |  |   |
|             |  |  |                                        |  |   |
|             |  |  |   +--------+  +--------+  +--------+  |  |   |
|             |  |  |   | CPU    |  | Memory |  | Disk   |  |  |   |
|             |  |  |   | Usage  |  | Usage  |  | Usage  |  |  |   |
|             |  |  |   +--------+  +--------+  +--------+  |  |   |
|             |  |  |                                        |  |   |
|             |  |  |   +-------------------------------+    |  |   |
|             |  |  |   | 센서 데이터 실시간 모니터링      |    |  |   |
|             |  |  |   | (음성/동작/환경 센서)           |    |  |   |
|             |  |  |   +-------------------------------+    |  |   |
|             |  |  |                                        |  |   |
|             |  |  |   +-------------------------------+    |  |   |
|             |  |  |   | 네트워크 상태                    |    |  |   |
|             |  |  |   +-------------------------------+    |  |   |
|             |  |  |                                        |  |   |
|             |  |  +----------------------------------------+  |   |
|             |  |                                              |   |
|             |  +----------------------------------------------+   |
|             |                                                    |
+================================================================+
```

#### 구성요소

| 요소 ID | 요소명 | 타입 | 설명 |
|---------|--------|------|------|
| healthcheck-view | 헬스체크 뷰 | div.view | 전체 화면 컨테이너 (padding: 0, overflow: hidden) |
| grafana-iframe | Grafana 대시보드 | iframe | 외부 Grafana 모니터링 대시보드 임베드 (전체 크기) |

#### 이벤트 처리

| 이벤트 ID | 트리거 | 액션 | API |
|-----------|--------|------|-----|
| EVT-006-01 | 뷰 진입 | Grafana iframe src 설정, 대시보드 로드 | - |
| EVT-006-02 | 센서 상태 확인 요청 | 센서별 동작 상태 조회 | GET /api/check-sensor |
| EVT-006-03 | 음성 상태 확인 | 음성 분석 엔진 health check | GET /api/voice-health |

---

### 3.7 SCR-007 마이페이지 화면 (mypage.html)

#### 와이어프레임

```
+================================================================+
|  [사이드바]  |          마이페이지 (mypage-view)                   |
|             |                                                    |
|             |  +-- 헤더 -----------------------------------+     |
|             |  | 마이페이지                                  |     |
|             |  | "내 정보와 설정을 관리합니다"                  |     |
|             |  +--------------------------------------------+     |
|             |                                                    |
|             |  +-- 3컬럼 레이아웃 (mypage-three-columns) -----+   |
|             |  |                                              |   |
|             |  | +-- 내 정보 ----+ +-- 어르신 --+ +-- 기기 -+ |   |
|             |  | | [person]     | | [elderly]  | | [device]| |   |
|             |  | | 내 정보 [수정]| | 어르신     | | 등록된  | |   |
|             |  | |              | | 정보 [수정] | | 기기 [+]| |   |
|             |  | | 이름: 홍길동 | |             | |         | |   |
|             |  | | ID:  demo   | | 성함: 김영순| | 기기1   | |   |
|             |  | | 연락처:     | | 생년월일:   | | [상태]  | |   |
|             |  | |  010-****   | |  1945.**.**| |         | |   |
|             |  | | 주소:       | | 성별: 여성  | | 기기2   | |   |
|             |  | |  서울시 *** | | 주거형태:   | | [상태]  | |   |
|             |  | |              | |  독거      | |         | |   |
|             |  | +-비밀번호변경-+ | 연락처:    | |         | |   |
|             |  | | [lock]      | |  010-****  | |         | |   |
|             |  | | 비밀번호변경 | | 주소:      | |         | |   |
|             |  | |   [v]       | |  서울시 ***| |         | |   |
|             |  | |              | |            | |         | |   |
|             |  | | 현재비밀번호 | |            | |         | |   |
|             |  | | [        ]  | |            | |         | |   |
|             |  | | 새 비밀번호  | |            | |         | |   |
|             |  | | [        ]  | |            | |         | |   |
|             |  | | 새 비번확인  | |            | |         | |   |
|             |  | | [        ]  | |            | |         | |   |
|             |  | | [변경하기]  | |            | |         | |   |
|             |  | +--------------+ +------------+ +---------+ |   |
|             |  +----------------------------------------------+   |
|             |                                                    |
|             |  +-- 알림 설정 카드 ----------------------------+   |
|             |  | [notifications] 알림 설정                     |   |
|             |  |                                              |   |
|             |  | +-- 수평 배치 (setting-list horizontal) ---+  |   |
|             |  | |                                         |  |   |
|             |  | | 미동 없음 감지 알림          [======O]   |  |   |
|             |  | | "1시간 이상 움직임이 없을 시"              |  |   |
|             |  | |                                         |  |   |
|             |  | | 응급상황 알림                [======O]   |  |   |
|             |  | | "낙상 등 응급상황 감지 시"                |  |   |
|             |  | |                                         |  |   |
|             |  | +------------------------------------------+ |   |
|             |  +----------------------------------------------+   |
+================================================================+
```

#### 구성요소

| 요소 ID | 요소명 | 타입 | 설명 |
|---------|--------|------|------|
| mypage-view | 마이페이지 뷰 | div.view | 마이페이지 전체 컨테이너 |
| mypage-name | 보호자 이름 | span.info-value | 보호자 이름 표시 |
| mypage-username | 아이디 | span.info-value | 로그인 아이디 표시 |
| mypage-phone | 연락처 | span.info-value.masked | 마스킹 처리된 연락처 (010-****-5678) |
| mypage-address | 주소 | span.info-value.masked | 마스킹 처리된 주소 |
| current-password | 현재 비밀번호 | input[password] | 비밀번호 변경 시 현재 비밀번호 입력 |
| new-password | 새 비밀번호 | input[password] | data-rule="password", 새 비밀번호 |
| new-password-confirm | 새 비밀번호 확인 | input[password] | 새 비밀번호 일치 확인 |
| password-form-wrapper | 비밀번호 폼 래퍼 | div | 접이식(collapsible) 비밀번호 변경 폼 |
| mypage-senior-name | 어르신 성함 | span.info-value | 어르신 이름 표시 |
| mypage-senior-birth | 생년월일 | span.info-value.masked | 마스킹 생년월일 (1945년 **월 **일) |
| mypage-senior-gender | 성별 | span.info-value | 남성/여성 |
| mypage-senior-living | 주거형태 | span.info-value | 독거/가족/부부 |
| mypage-senior-phone | 어르신 연락처 | span.info-value.masked | 마스킹 연락처 |
| mypage-senior-address | 어르신 주소 | span.info-value.masked | 마스킹 주소 |
| mypage-device-list | 기기 목록 | div | 등록된 기기 상태 리스트 |
| alert-abnormal | 미동 감지 알림 토글 | checkbox(toggle) | 기본 ON, toggle-switch UI |
| alert-emergency | 응급상황 알림 토글 | checkbox(toggle) | 기본 ON, toggle-switch UI |

#### 이벤트 처리

| 이벤트 ID | 트리거 | 액션 | API |
|-----------|--------|------|-----|
| EVT-007-01 | "수정" 클릭 (보호자) | openEditModal('guardian') - 보호자 정보 수정 모달 | - |
| EVT-007-02 | "수정" 클릭 (어르신) | openEditModal('senior') - 어르신 정보 수정 모달 | - |
| EVT-007-03 | 비밀번호 변경 헤더 클릭 | togglePasswordForm() - 비밀번호 폼 펼침/접힘 | - |
| EVT-007-04 | "변경하기" 클릭 | changePassword() - 비밀번호 변경 요청 | POST /api/change-password |
| EVT-007-05 | 기기 추가 [+] 클릭 | openAddDeviceModal() - 기기 추가 모달 | - |
| EVT-007-06 | 알림 토글 변경 (미동) | toggleNotification('abnormal') - 미동 알림 설정 변경 | - |
| EVT-007-07 | 알림 토글 변경 (응급) | toggleNotification('emergency') - 응급 알림 설정 변경 | - |

---

### 3.8 SCR-008 알림 모달 (modals.html - notification-modal)

#### 와이어프레임

```
+================================================================+
|                        [모달 오버레이]                             |
|                                                                  |
|     +----------------------------------------------------+      |
|     |  [notifications] 전체 알림               [X close]   |      |
|     +----------------------------------------------------+      |
|     |                                                    |      |
|     |  [전체*]   [안읽음]   [긴급]                         |      |
|     |  notification-filter                                |      |
|     |                                                    |      |
|     |  +----------------------------------------------+  |      |
|     |  |  알림 1 - 위험                                |  |      |
|     |  |  [시간] 알림 내용                              |  |      |
|     |  +----------------------------------------------+  |      |
|     |  |  알림 2 - 주의                                |  |      |
|     |  |  [시간] 알림 내용                              |  |      |
|     |  +----------------------------------------------+  |      |
|     |  |  알림 3 - 정보                                |  |      |
|     |  |  [시간] 알림 내용                              |  |      |
|     |  +----------------------------------------------+  |      |
|     |  |          ...                                  |  |      |
|     |  +----------------------------------------------+  |      |
|     |                                                    |      |
|     +----------------------------------------------------+      |
|                        modal-lg                                  |
+================================================================+
```

#### 구성요소

| 요소 ID | 요소명 | 타입 | 설명 |
|---------|--------|------|------|
| notification-modal | 알림 모달 | div.modal | 전체 알림 목록 모달 |
| - | 모달 오버레이 | div.modal-overlay | 클릭 시 모달 닫기 |
| full-notification-list | 전체 알림 리스트 | div | 필터링된 알림 목록 표시 |
| - | 전체 필터 | button.filter-btn | 전체 알림 표시 (기본) |
| - | 안읽음 필터 | button.filter-btn | 읽지 않은 알림만 필터링 |
| - | 긴급 필터 | button.filter-btn | 위험 수준 알림만 필터링 |

#### 이벤트 처리

| 이벤트 ID | 트리거 | 액션 | API |
|-----------|--------|------|-----|
| EVT-008-01 | 모달 열기 | openNotificationModal() - 알림 목록 로드 및 표시 | POST /api/alert-list |
| EVT-008-02 | 필터 버튼 클릭 | filterNotifications(type, btn) - 알림 필터링 | - |
| EVT-008-03 | 오버레이/X 클릭 | closeModal('notification-modal') - 모달 닫기 | - |
| EVT-008-04 | 모달 닫기 시 | 모든 알림 읽음 처리 | POST /api/alert-read-all |

---

### 3.9 SCR-009 기기 추가 모달 (modals.html - add-device-modal)

#### 와이어프레임

```
+================================================================+
|                        [모달 오버레이]                             |
|                                                                  |
|        +------------------------------------------+              |
|        |  [add_circle] 기기 추가        [X close]   |              |
|        +------------------------------------------+              |
|        |                                          |              |
|        |  시리얼 번호 *                            |              |
|        |  +------------------------------------+  |              |
|        |  | 기기 시리얼 번호                     |  |              |
|        |  +------------------------------------+  |              |
|        |                                          |              |
|        |  기기 이름                                |              |
|        |  +------------------------------------+  |              |
|        |  | 예: 거실 환경센서                     |  |              |
|        |  +------------------------------------+  |              |
|        |                                          |              |
|        |  설치 위치                                |              |
|        |  +------------------------------------+  |              |
|        |  | 거실                            v  |  |              |
|        |  +------------------------------------+  |              |
|        |                                          |              |
|        +------------------------------------------+              |
|        |         [취소]        [추가하기]           |              |
|        +------------------------------------------+              |
|                                                                  |
+================================================================+
```

#### 구성요소

| 요소 ID | 요소명 | 타입 | 설명 |
|---------|--------|------|------|
| add-device-modal | 기기 추가 모달 | div.modal | 기기 등록 폼 모달 |
| modal-device-serial | 시리얼 번호 | input[text] | 기기 고유 시리얼 번호 입력 |
| modal-device-name | 기기 이름 | input[text] | 사용자 지정 기기 이름 |
| modal-device-location | 설치 위치 | select | living/bedroom/kitchen/bathroom/entrance |

#### 이벤트 처리

| 이벤트 ID | 트리거 | 액션 | API |
|-----------|--------|------|-----|
| EVT-009-01 | "추가하기" 클릭 | addDeviceFromModal() - 기기 등록 요청 | POST /api/add-device |
| EVT-009-02 | "취소"/오버레이 클릭 | closeModal('add-device-modal') - 모달 닫기 | - |

---

### 3.10 SCR-010 정보 수정 모달 (modals.html - edit-modal)

#### 와이어프레임

```
+================================================================+
|                        [모달 오버레이]                             |
|                                                                  |
|        +------------------------------------------+              |
|        |  [edit] 정보 수정               [X close]  |              |
|        +------------------------------------------+              |
|        |                                          |              |
|        |  (동적으로 생성되는 폼 필드)                |              |
|        |                                          |              |
|        |  -- 보호자 정보 수정 모드 --               |              |
|        |  이름:      [            ]                |              |
|        |  연락처:    [            ]                |              |
|        |  우편번호:  [       ] [주소검색]            |              |
|        |  기본주소:  [            ]                |              |
|        |  상세주소:  [            ]                |              |
|        |                                          |              |
|        |  -- 어르신 정보 수정 모드 --               |              |
|        |  성함:      [            ]                |              |
|        |  연락처:    [            ]                |              |
|        |  우편번호:  [       ] [주소검색]            |              |
|        |  기본주소:  [            ]                |              |
|        |  상세주소:  [            ]                |              |
|        |                                          |              |
|        +------------------------------------------+              |
|        |         [취소]        [저장하기]           |              |
|        +------------------------------------------+              |
|                                                                  |
+================================================================+
```

#### 구성요소

| 요소 ID | 요소명 | 타입 | 설명 |
|---------|--------|------|------|
| edit-modal | 정보 수정 모달 | div.modal | 동적 폼 기반 정보 수정 모달 |
| edit-modal-title | 모달 제목 | h3 | "보호자 정보 수정" 또는 "어르신 정보 수정" |
| edit-modal-body | 모달 본문 | div | JavaScript로 동적 생성되는 폼 필드 영역 |
| edit-modal-save | 저장 버튼 | button | 정보 수정 저장 실행 |

#### 이벤트 처리

| 이벤트 ID | 트리거 | 액션 | API |
|-----------|--------|------|-----|
| EVT-010-01 | openEditModal('guardian') | 보호자 수정 폼 동적 생성 및 기존 데이터 채움 | - |
| EVT-010-02 | openEditModal('senior') | 어르신 수정 폼 동적 생성 및 기존 데이터 채움 | - |
| EVT-010-03 | "저장하기" 클릭 (보호자) | 보호자 정보 업데이트 요청 | POST /api/update-guardian |
| EVT-010-04 | "저장하기" 클릭 (어르신) | 어르신 정보 업데이트 요청 | POST /api/update-senior |
| EVT-010-05 | "취소"/오버레이 클릭 | closeModal('edit-modal') - 모달 닫기 | - |

---

## 4. 공통 UI 가이드라인

### 4.1 컬러 팔레트

본 시스템은 보미 캐릭터 기반의 따뜻한 자연 톤 테마를 사용합니다.

```
+-- 메인 브랜드 컬러 (보미 캐릭터 추출) --------------------------------+
|                                                                       |
|  main-color         #7CB342   보미 잎사귀 초록 (Primary)               |
|  main-color-light   #AED581   밝은 초록                               |
|  main-color-dark    #558B2F   짙은 초록                               |
|  secondary-color    #FFB74D   보미 노란 몸통 (Secondary)               |
|  secondary-light    #FFE082   밝은 노랑                               |
|  accent-color       #8BC34A   연한 초록 (Accent)                      |
|                                                                       |
+-- 배경색 ---------------------------------------------------------+
|                                                                       |
|  bg-cream           #FFFEF7   메인 배경 (크림색)                       |
|  bg-soft            #FFF8E1   부드러운 배경 (그라데이션용)               |
|  bg-card            #FFFFFF   카드 배경                               |
|                                                                       |
+-- 텍스트 색상 -------------------------------------------------------+
|                                                                       |
|  text-primary       #3E2723   주요 텍스트 (다크 브라운)                 |
|  text-secondary     #5D4037   보조 텍스트                              |
|  text-muted         #8D6E63   비활성 텍스트                            |
|  text-light         #A1887F   약한 텍스트                              |
|                                                                       |
+-- 상태 색상 -------------------------------------------------------+
|                                                                       |
|  success            #66BB6A   성공/양호 (초록)                         |
|  warning            #FFA726   경고/주의 (주황)                         |
|  danger             #EF5350   위험/긴급 (빨강)                         |
|  info               #42A5F5   정보 (파랑)                             |
|                                                                       |
+-- 감정 분석 차트 컬러 -----------------------------------------------+
|                                                                       |
|  긍정 (기쁨)        rgba(255, 251, 0, 0.68)   노랑                    |
|  슬픔              #36A2EB                    파랑                    |
|  불안              #9966FF                    보라                    |
|  분노              #FF5757                    빨강                    |
|  상처              #FF9F40                    주황                    |
|  당황              #FFCD56                    연한 노랑               |
|                                                                       |
+-----------------------------------------------------------------------+
```

### 4.2 그림자 (Shadow)

```
shadow-sm:    0 2px 8px rgba(62, 39, 35, 0.08)     카드 기본
shadow-md:    0 4px 16px rgba(62, 39, 35, 0.12)     카드 호버
shadow-lg:    0 8px 32px rgba(62, 39, 35, 0.16)     모달, 로그인 카드
```

### 4.3 타이포그래피

```
+-- 폰트 패밀리 -------------------------------------------------------+
|                                                                       |
|  주 폰트: 'Noto Sans KR' (Google Fonts)                               |
|  폰트 가중치: 300(Light), 400(Regular), 500(Medium),                   |
|              600(SemiBold), 700(Bold)                                  |
|                                                                       |
+-- 폰트 크기 (반응형 CSS clamp) ----------------------------------------+
|                                                                       |
|  font-sm:    clamp(0.75rem, 1.5vw, 0.875rem)    12~14px  보조 텍스트   |
|  font-md:    clamp(0.875rem, 2vw, 1rem)         14~16px  본문          |
|  font-lg:    clamp(1rem, 2.5vw, 1.25rem)        16~20px  소제목       |
|  로고:        2.5rem (40px)                              "늘봄" 로고   |
|                                                                       |
+-- 줄 높이 -----------------------------------------------------------+
|                                                                       |
|  기본 line-height: 1.6                                                 |
|                                                                       |
+-----------------------------------------------------------------------+
```

### 4.4 레이아웃 간격 (Spacing)

```
+-- 반응형 CSS 변수 ---------------------------------------------------+
|                                                                       |
|  nav-height:    clamp(56px, 8vw, 70px)      사이드바 높이 기준         |
|  radius:        clamp(12px, 2vw, 16px)      카드 모서리 둥글기         |
|  radius-sm:     clamp(6px, 1vw, 8px)        입력 필드 모서리           |
|  spacing:       clamp(8px, 2vw, 16px)       기본 간격                 |
|                                                                       |
+-- 카드 패딩 ---------------------------------------------------------+
|                                                                       |
|  로그인 카드:      40px                                               |
|  일반 카드:        var(--spacing) ~ 20px                               |
|  컴팩트 카드:      12px                                               |
|                                                                       |
+-----------------------------------------------------------------------+
```

### 4.5 아이콘 체계

```
+-- Google Material Icons Round ----------------------------------------+
|                                                                       |
|  CDN: https://fonts.googleapis.com/icon?family=Material+Icons+Round   |
|  사용법: <span class="material-icons-round">icon_name</span>          |
|                                                                       |
+-- 주요 아이콘 매핑 ---------------------------------------------------+
|                                                                       |
|  네비게이션:                                                           |
|    dashboard          대시보드                                         |
|    mic                보미와 대화                                      |
|    assessment         리포트                                          |
|    monitor_heart      헬스체크                                        |
|    person             마이페이지                                       |
|    notifications      알림                                            |
|    logout             로그아웃                                        |
|                                                                       |
|  대시보드 메트릭:                                                      |
|    sentiment_satisfied  감정 상태                                      |
|    directions_run       활동량                                        |
|    bedtime              수면 시간                                      |
|    home                 주거형태                                       |
|                                                                       |
|  분석/차트:                                                           |
|    mood                 감정 분석                                      |
|    psychology           인지 활동                                      |
|    thermostat           실내 환경                                      |
|    analytics            실시간 분석                                    |
|    graphic_eq           음성 톤                                       |
|    speed                말하기 속도                                    |
|    record_voice_over    명확도                                        |
|                                                                       |
|  폼/입력:                                                             |
|    account_circle       계정 정보                                      |
|    badge                개인 정보                                      |
|    elderly              어르신 정보                                    |
|    location_on          주소/위치                                      |
|    medical_information  특이사항                                       |
|    qr_code_scanner      QR 스캔                                       |
|    devices              기기 목록                                      |
|    lock                 비밀번호                                       |
|    edit                 정보 수정                                      |
|                                                                       |
+-----------------------------------------------------------------------+
```

### 4.6 보미 캐릭터 이미지 가이드

```
+-- 보미 이미지 파일 (static/images/) ----------------------------------+
|                                                                       |
|  bomi-welcome.png       로그인 화면, 대화 초기 상태, 사이드바 아이콘     |
|  bomi-plant.png         회원가입 Step 1 (보호자 정보)                   |
|  bomi-good.png          회원가입 Step 2 (어르신 등록)                   |
|  bomi-happy.png         회원가입 Step 3 (기기 등록)                    |
|  bomi-transparent.png   대시보드 인사말 영역                           |
|  bomi-hello.png         대화 인사 상태                                |
|  bomi-thumbsup.png      긍정 반응                                    |
|  bomi-worried.png       걱정/주의 상태                                |
|                                                                       |
+-- 보미 캐릭터 효과 --------------------------------------------------+
|                                                                       |
|  기본 그림자:   drop-shadow(0 4px 12px rgba(124, 179, 66, 0.3))       |
|  호버 그림자:   drop-shadow(0 8px 20px rgba(124, 179, 66, 0.5))       |
|  호버 확대:     transform: scale(1.05)                                |
|  플로팅 효과:   @keyframes bomiFloat (3s ease-in-out infinite)        |
|                                                                       |
+-----------------------------------------------------------------------+
```

### 4.7 버튼 스타일

```
+-- 버튼 클래스 -------------------------------------------------------+
|                                                                       |
|  .btn                기본 버튼 (패딩, 라운드, 트랜지션)                 |
|  .btn-primary        주요 액션 (main-color 배경, 흰색 텍스트)          |
|  .btn-secondary      보조 액션 (secondary-color 배경)                 |
|  .btn-outline        외곽선 버튼 (투명 배경, 테두리)                    |
|  .btn-full           전체 너비 (width: 100%)                          |
|  .btn-sm             작은 버튼 (중복확인, 주소검색 등)                  |
|  .btn-link           텍스트 링크 스타일 (회원가입 이동)                 |
|  .link-btn           인라인 링크 버튼 (카드 헤더의 "수정", "전체")      |
|  .icon-btn           아이콘 전용 버튼 (기기 추가 [+])                  |
|                                                                       |
+-----------------------------------------------------------------------+
```

### 4.8 입력 필드 스타일

```
+-- 입력 필드 클래스 ---------------------------------------------------+
|                                                                       |
|  .input-group          아이콘 + 입력 (로그인 화면)                     |
|  .input-wrapper        라벨 + 입력 + 에러 텍스트 (회원가입)            |
|  .input-with-btn       입력 + 인라인 버튼 (중복확인, 주소검색)         |
|  .error-text           유효성 검사 에러 메시지 (빨간색)                 |
|  .required             필수 항목 표시 (*)                              |
|                                                                       |
+-- 특수 입력 --------------------------------------------------------+
|                                                                       |
|  .radio-group          라디오 버튼 그룹 (성별, 주거형태)               |
|  .checkbox-label       체크박스 + 라벨 (약관 동의)                     |
|  .toggle-switch        토글 스위치 (알림 설정)                        |
|  .birth-select-group   생년월일 드롭다운 그룹                         |
|                                                                       |
+-----------------------------------------------------------------------+
```

### 4.9 카드 컴포넌트

```
+-- 카드 클래스 -------------------------------------------------------+
|                                                                       |
|  .card                 기본 카드 (bg-card, radius, shadow-sm)         |
|  .card-header          카드 헤더 (제목 + 액션 버튼)                    |
|  .metric-card          대시보드 상단 메트릭 카드 (감정/활동/수면/주거)   |
|  .metric-badge         상태 뱃지 (good/normal/warning 색상)           |
|  .mypage-card          마이페이지 3컬럼 카드                          |
|  .compact              축소 모드 카드 (대시보드 사이드 패널)            |
|  .full-width           전체 너비 카드 (환경 추이 차트)                 |
|                                                                       |
+-----------------------------------------------------------------------+
```

### 4.10 토스트 알림

```
+-- 토스트 컨테이너 ---------------------------------------------------+
|                                                                       |
|  #toast-container      화면 우상단 고정 위치                           |
|  토스트 유형:          success (초록), error (빨강),                   |
|                       warning (주황), info (파랑)                     |
|  자동 소멸:           3~5초 후 자동 사라짐                             |
|                                                                       |
+-----------------------------------------------------------------------+
```

### 4.11 모달 컴포넌트

```
+-- 모달 구조 ---------------------------------------------------------+
|                                                                       |
|  .modal                모달 컨테이너 (display: none -> flex)          |
|  .modal-overlay        반투명 배경 (클릭 시 닫기)                      |
|  .modal-content        모달 본문 컨테이너                              |
|  .modal-lg             큰 모달 (알림 목록)                             |
|  .modal-header         모달 헤더 (제목 + 닫기 버튼)                    |
|  .modal-body           모달 본문 (폼/리스트)                           |
|  .modal-footer         모달 푸터 (취소/확인 버튼)                      |
|  .modal-close          닫기 버튼 (X 아이콘)                            |
|                                                                       |
+-----------------------------------------------------------------------+
```

---

## 5. 반응형 디자인 가이드

### 5.1 브레이크포인트

```
+-- 반응형 기준 -------------------------------------------------------+
|                                                                       |
|  모바일:       ~768px    사이드바 상단으로 이동, 1컬럼 레이아웃          |
|  태블릿:       769px~1024px   사이드바 축소, 2컬럼                     |
|  데스크톱:     1025px~       사이드바 펼침, 풀 레이아웃                 |
|                                                                       |
+-- CSS clamp 활용 ---------------------------------------------------+
|                                                                       |
|  모든 주요 수치(폰트, 간격, 네비 높이)에 clamp() 사용                  |
|  최소값 ~ 뷰포트 비례값 ~ 최대값 범위 자동 조절                        |
|                                                                       |
+-----------------------------------------------------------------------+
```

---

## 6. 화면 전환 흐름도

```
                          +-- 비인증 영역 --+
                          |                 |
                +-------->| SCR-001 로그인  |<--------+
                |         |                 |         |
                |         +--------+--------+         |
                |                  |                   |
                |          로그인 성공                  |
                |                  |                   |
                |                  v                   |
     취소/      |         +-- 인증 후 영역 (main-app) --+--+
     로그아웃   |         |                             |  |
                |         |  +-- nav 메뉴로 전환 --+     |  |
                |         |  |                     |     |  |
                |         |  |  SCR-003 대시보드    |<-+  |  |
                |         |  |        |            |  |  |  |
                |         |  |        v            |  |  |  |
                |         |  |  SCR-004 보미대화   |--+  |  |
                |         |  |        |            |  |  |  |
                |         |  |        v            |  |  |  |
                |         |  |  SCR-005 리포트     |--+  |  |
                |         |  |        |            |  |  |  |
                |         |  |        v            |  |  |  |
                |         |  |  SCR-006 헬스체크   |--+  |  |
                |         |  |        |            |  |  |  |
                |         |  |        v            |  |  |  |
                |         |  |  SCR-007 마이페이지  |--+  |  |
                |         |  |                     |     |  |
                |         |  +---------------------+     |  |
                |         |                             |  |
                |         |  +-- 모달 (어디서든) --+      |  |
                |         |  |  SCR-008 알림모달   |      |  |
                +---------|  |  SCR-009 기기추가   |      |  |
                          |  |  SCR-010 정보수정   |      |  |
                          |  +--------------------+      |  |
                          +-----------------------------+  |
                                                           |
                          +-- 비인증 영역 --+               |
                          | SCR-002 회원가입 |<------회원가입 링크
                          |  Step1 -> 2 -> 3 |
                          |         |        |
                          |    가입 완료      |
                          |         |        |
                          |    SCR-001 로그인 |
                          +-----------------+
```

---

## 7. API 엔드포인트 매핑

| API 경로 | 메서드 | 관련 화면 | 설명 |
|----------|--------|-----------|------|
| POST /api/login | POST | SCR-001 | 보호자 로그인 인증 |
| POST /api/signup | POST | SCR-002 | 회원가입 (보호자+어르신+기기) |
| POST /api/check-duplicate | POST | SCR-002 | 아이디 중복 확인 |
| POST /api/activity-daily | POST | SCR-003 | 일간 활동 데이터 조회 |
| POST /api/activity-weekly | POST | SCR-005 | 주간 활동 데이터 조회 |
| POST /api/activity-monthly | POST | SCR-005 | 월간 활동 데이터 조회 |
| POST /api/analyze | POST | SCR-004 | 음성 분석 요청 (SSE 스트리밍) |
| GET /api/tts-audio/{file} | GET | SCR-004 | TTS 음성 파일 다운로드 |
| POST /api/create-voice-session | POST | SCR-004 | 음성 세션 생성 |
| GET /api/check-alert | GET | SCR-003, SCR-008 | 미확인 알림 수 조회 |
| POST /api/alert-list | POST | SCR-008 | 전체 알림 목록 조회 |
| POST /api/alert-read-all | POST | SCR-008 | 알림 전체 읽음 처리 |
| POST /api/update-guardian | POST | SCR-010 | 보호자 정보 수정 |
| POST /api/update-senior | POST | SCR-010 | 어르신 정보 수정 |
| POST /api/change-password | POST | SCR-007 | 비밀번호 변경 |
| POST /api/add-device | POST | SCR-009 | 기기 추가 등록 |
| GET /api/check-sensor | GET/POST | SCR-006 | 센서 상태 확인 |
| GET /api/voice-health | GET | SCR-006 | 음성 분석 엔진 상태 |
| POST /api/simulate-data | POST | SCR-003 | 테스트용 더미 데이터 생성 |

---

## 문서 이력

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-02-09 | - | 최초 작성 |
