# 늘봄 (AI 기반 노인 돌봄 음성 분석 시스템) - 테스트 케이스 명세서

---

## 문서 정보

| 항목 | 내용 |
|------|------|
| 프로젝트명 | 늘봄 (AI 기반 노인 돌봄 음성 분석 시스템) |
| 문서명 | 테스트 케이스 명세서 |
| 문서 버전 | 1.0 |
| 작성일 | 2026-02-09 |
| 개발 기간 | 2025년 12월 ~ 2026년 2월 (2025.12.05 ~ 2026.02.10) |
| 개발 인원 | 5명 (최선임 총괄기획, 지태민 프론트엔드, 김승민 백엔드, 최대영 DB/IoT, 조민솔 기획/문서) |
| 작성자 | 늘봄 개발팀 |
| 테스트 대상 | 웹 프론트엔드 (SPA) + Flask 백엔드 API |
| 테스트 환경 | Chrome 최신, Flask 5000 포트, MySQL (care_db) |

---

## 목차

1. [인증 화면 (로그인)](#1-인증-화면---로그인-loginhtml)
2. [인증 화면 (회원가입)](#2-인증-화면---회원가입-signuphtml)
3. [메인 화면 (대시보드)](#3-메인-화면---대시보드-dashboardhtml)
4. [AI 음성 대화 (보미)](#4-ai-음성-대화---보미-bomihtml)
5. [리포트](#5-리포트-reporthtml)
6. [건강체크 (헬스체크)](#6-건강체크-healthhtml)
7. [마이페이지](#7-마이페이지-mypagehtml)
8. [비기능 테스트](#8-비기능-테스트)
9. [문서 이력](#9-문서-이력)

---

## 1. 인증 화면 - 로그인 (login.html)

| 항목 | 내용 |
|------|------|
| 화면 경로 | `/` (index.html 내 `#login-page`) |
| 화면 ID | login-page |
| 접근 권한 | 비로그인 사용자 (공개) |
| API | `POST /api/login` |
| 관련 요구사항 | REQ-AUTH-001 보호자 로그인 인증 |
| 관련 유스케이스 | UC-001 보호자 로그인 |

| TC-ID | 분류 | 테스트 케이스명 | 사전조건 | 테스트 단계 | 예상 결과 | 우선순위 |
|-------|------|----------------|----------|------------|-----------|----------|
| TC-LGN-001 | 정상 | 정상 로그인 | 등록된 계정 존재 (user_id/password) | 1. 아이디 입력<br>2. 비밀번호 입력<br>3. 로그인 버튼 클릭 | 로그인 성공, `currentUser`에 사용자 정보 저장, 대시보드(`#main-app`)로 이동 | 상 |
| TC-LGN-002 | 예외 | 존재하지 않는 아이디로 로그인 | 미등록 아이디 | 1. 존재하지 않는 아이디 입력<br>2. 임의 비밀번호 입력<br>3. 로그인 버튼 클릭 | 401 응답, "로그인 실패" 에러 메시지 표시, 로그인 화면 유지 | 상 |
| TC-LGN-003 | 예외 | 비밀번호 불일치 | 등록된 계정 존재 | 1. 올바른 아이디 입력<br>2. 잘못된 비밀번호 입력<br>3. 로그인 버튼 클릭 | 401 응답, "로그인 실패" 에러 메시지 표시, 비밀번호 필드 초기화 | 상 |
| TC-LGN-004 | Validation | 아이디 미입력 로그인 시도 | 로그인 화면 표시 | 1. 아이디 필드를 비운 상태<br>2. 비밀번호 입력<br>3. 로그인 버튼 클릭 | HTML5 required 속성에 의한 입력 요구 메시지 표시, API 호출되지 않음 | 중 |
| TC-LGN-005 | Validation | 비밀번호 미입력 로그인 시도 | 로그인 화면 표시 | 1. 아이디 입력<br>2. 비밀번호 필드를 비운 상태<br>3. 로그인 버튼 클릭 | HTML5 required 속성에 의한 입력 요구 메시지 표시, API 호출되지 않음 | 중 |
| TC-LGN-006 | 정상 | 로그인 후 어르신 정보 로드 | 보호자 계정에 어르신 연결 완료 | 1. 정상 로그인 수행 | 응답에 senior 객체 포함 (name, birthdate, gender, phone 등), 대시보드에 어르신 이름 표시 | 상 |
| TC-LGN-007 | 정상 | 로그인 후 기기 목록 로드 | 어르신에 기기 등록 완료 | 1. 정상 로그인 수행 | 응답의 `devices` 배열에 등록 기기 목록 포함, 대시보드 기기 상태 영역에 표시 | 중 |
| TC-LGN-008 | UI | 회원가입 링크 이동 | 로그인 화면 표시 | 1. "아직 회원이 아니신가요? 회원가입" 링크 클릭 | `#signup-page`로 화면 전환, 회원가입 Step 1 표시 | 중 |
| TC-LGN-009 | UI | 로그인 화면 UI 요소 확인 | 앱 최초 접속 | 1. 페이지 로드 확인 | 보미 캐릭터 이미지, "늘봄" 로고, 아이디/비밀번호 입력 필드, 로그인 버튼, 회원가입 링크 모두 정상 표시 | 하 |
| TC-LGN-010 | 예외 | 서버 미응답 상태에서 로그인 시도 | 백엔드 서버 중단 | 1. 올바른 계정 정보 입력<br>2. 로그인 버튼 클릭 | 네트워크 오류 메시지 표시, 화면 정상 유지 | 중 |

---

## 2. 인증 화면 - 회원가입 (signup.html)

| 항목 | 내용 |
|------|------|
| 화면 경로 | `/` (index.html 내 `#signup-page`) |
| 화면 ID | signup-page |
| 접근 권한 | 비로그인 사용자 (공개) |
| API | `POST /api/signup`, `POST /api/check-duplicate`, `POST /api/add-device` |
| 관련 요구사항 | REQ-AUTH-002 보호자 회원가입, REQ-AUTH-003 어르신 정보 등록, REQ-DEV-001 IoT 기기 등록 |
| 관련 유스케이스 | UC-002 보호자 회원가입, UC-003 어르신 등록, UC-004 기기 등록 |

| TC-ID | 분류 | 테스트 케이스명 | 사전조건 | 테스트 단계 | 예상 결과 | 우선순위 |
|-------|------|----------------|----------|------------|-----------|----------|
| TC-SGN-001 | 정상 | Step 1 - 보호자 정보 정상 입력 후 다음 단계 | 회원가입 Step 1 표시 | 1. 아이디 입력 후 중복확인 통과<br>2. 비밀번호/비밀번호 확인 입력<br>3. 이름, 휴대폰, 주소 입력<br>4. 필수 약관 동의<br>5. "다음 단계" 클릭 | Step 2 (어르신 정보) 화면으로 전환, 프로그레스 바 Step 2 활성화 | 상 |
| TC-SGN-002 | 정상 | 아이디 중복확인 - 사용 가능 | 미등록 아이디 사용 | 1. 중복되지 않는 아이디 입력<br>2. "중복확인" 버튼 클릭 | `/api/check-duplicate` 호출, `isDuplicate: false` 응답, "사용 가능" 메시지 표시 | 상 |
| TC-SGN-003 | 예외 | 아이디 중복확인 - 중복 아이디 | 이미 등록된 아이디 존재 | 1. 등록된 아이디 입력<br>2. "중복확인" 버튼 클릭 | `isDuplicate: true` 응답, "이미 사용 중인 아이디" 에러 메시지 표시 | 상 |
| TC-SGN-004 | Validation | 비밀번호 형식 검증 | Step 1 표시 | 1. "1234" (단순 숫자만) 입력<br>2. 다음 단계 시도 | "영문, 숫자, 특수문자 포함 8자 이상" 유효성 에러 표시, 다음 단계 이동 불가 | 상 |
| TC-SGN-005 | Validation | 비밀번호 불일치 검증 | Step 1 표시 | 1. 비밀번호에 "Test@1234" 입력<br>2. 비밀번호 확인에 "Test@5678" 입력<br>3. 다음 단계 시도 | "비밀번호가 일치하지 않습니다" 에러 표시, 다음 단계 이동 불가 | 상 |
| TC-SGN-006 | Validation | 휴대폰 번호 형식 검증 | Step 1 표시 | 1. 전화번호에 "12345" 입력<br>2. 다음 단계 시도 | `data-rule="phone"` 검증 실패, 올바른 형식(010-0000-0000) 입력 요구 | 중 |
| TC-SGN-007 | Validation | 필수 약관 미동의 시 다음 단계 차단 | Step 1 표시 | 1. 모든 항목 정상 입력<br>2. 필수 약관 미동의<br>3. "다음 단계" 클릭 | "필수 약관에 동의해주세요" 에러 메시지 표시, 다음 단계 이동 불가 | 상 |
| TC-SGN-008 | 정상 | Step 2 - 어르신 정보 정상 입력 후 다음 단계 | Step 2 활성 상태 | 1. 성함 입력<br>2. 생년월일 선택 (년/월/일)<br>3. 성별 선택<br>4. 연락처 입력<br>5. 가족관계 선택<br>6. 주거형태 선택<br>7. 주소 입력<br>8. 어르신 약관 동의<br>9. "다음 단계" 클릭 | Step 3 (기기 등록) 화면으로 전환 | 상 |
| TC-SGN-009 | 정상 | Step 3 - 기기 등록 후 가입 완료 | Step 3 활성 상태 | 1. "직접 입력" 탭 선택<br>2. 시리얼 번호, 기기 이름, 설치 위치 입력<br>3. "기기 추가" 클릭<br>4. "가입 완료" 클릭 | `/api/signup` 호출 성공 (201), "가입 성공" 메시지, 로그인 화면으로 이동 | 상 |
| TC-SGN-010 | 정상 | Step 3 - 기기 등록 건너뛰기 | Step 3 활성 상태 | 1. "나중에 등록" 버튼 클릭 | 기기 없이 가입 진행, `/api/signup` 호출 성공, 로그인 화면으로 이동 | 중 |
| TC-SGN-011 | UI | 전체 약관 동의 토글 | Step 1 표시 | 1. "전체 동의" 체크박스 클릭 | 하위 모든 약관 (필수 3개 + 선택 1개) 체크됨<br>2. 다시 클릭하면 전체 해제 | 중 |
| TC-SGN-012 | UI | 이전 단계 버튼 동작 | Step 2 또는 Step 3 표시 | 1. "이전 단계" 버튼 클릭 | 이전 Step으로 이동, 기존 입력값 유지 | 중 |
| TC-SGN-013 | Validation | 아이디 형식 검증 (4-20자 영문/숫자) | Step 1 표시 | 1. 아이디에 "ab" (2자) 입력<br>2. 중복확인 또는 다음 단계 시도 | `data-rule="username"` 검증 실패, "영문, 숫자 4-20자" 에러 메시지 표시 | 중 |
| TC-SGN-014 | UI | 주소 검색 기능 (Daum API) | Step 1 또는 Step 2 표시 | 1. "주소검색" 버튼 클릭<br>2. Daum 주소 팝업에서 주소 선택 | 우편번호, 기본주소 자동 입력, 상세주소 필드 포커스 | 중 |
| TC-SGN-015 | 예외 | 서버 오류 시 회원가입 실패 처리 | Step 3에서 가입 완료 시도 | 1. DB 서버 중단 상태<br>2. "가입 완료" 버튼 클릭 | 500 에러 응답, 에러 메시지 표시 ("가입 실패"), rollback 처리 확인 | 중 |

---

## 3. 메인 화면 - 대시보드 (dashboard.html)

| 항목 | 내용 |
|------|------|
| 화면 경로 | `/` (index.html 내 `#dashboard-view`) |
| 화면 ID | dashboard-view |
| 접근 권한 | 로그인 사용자 (보호자) |
| API | `POST /api/activity-daily`, `GET /api/check-alert`, `POST /api/alert-list` |
| 관련 요구사항 | REQ-DASH-001 통합 대시보드 표시, REQ-DASH-002 실시간 알림 수신 |
| 관련 유스케이스 | UC-005 대시보드 조회, UC-006 실시간 알림 확인 |

| TC-ID | 분류 | 테스트 케이스명 | 사전조건 | 테스트 단계 | 예상 결과 | 우선순위 |
|-------|------|----------------|----------|------------|-----------|----------|
| TC-DSH-001 | 정상 | 대시보드 로드 시 사용자 이름 표시 | 정상 로그인 완료 | 1. 로그인 후 대시보드 진입 | `#user-name-display`에 보호자 이름, `#senior-name-display`에 어르신 이름 표시 | 상 |
| TC-DSH-002 | 정상 | 오늘 활동량 표시 | 로그인 완료, 모션 센서 등록됨 | 1. 대시보드 진입<br>2. `/api/activity-daily` 자동 호출 | `#activity-value`에 오늘 감지 횟수 표시, 횟수에 따른 배지(좋음/보통/부족) 업데이트 | 상 |
| TC-DSH-003 | 정상 | 감정 분석 버블 차트 렌더링 | 분석 데이터 존재 | 1. 대시보드 진입 | `#emotion-bubble-chart`에 6가지 감정(긍정/슬픔/불안/분노/상처/당황) 버블 차트 정상 렌더링 | 상 |
| TC-DSH-004 | 정상 | 인지 활동 차트 렌더링 | 대시보드 진입 완료 | 1. 인지 활동 카드 확인 | `#cognitive-chart` 렌더링, 대화/독서/TV 시간 요약 표시 | 중 |
| TC-DSH-005 | 정상 | 실내 환경 데이터 표시 | 환경 센서 데이터 존재 | 1. 대시보드 진입 | 온도(`#env-display-temp`), 습도(`#env-display-humidity`), 공기질(`#env-display-air`) 정상 표시, 환경 차트 렌더링 | 중 |
| TC-DSH-006 | 정상 | 최근 알림 목록 표시 | 알림 데이터 존재 | 1. 대시보드 진입 | `#notification-list`에 최근 알림 항목 표시 (type별 아이콘 구분: info/warning/danger) | 중 |
| TC-DSH-007 | 정상 | 기기 상태 목록 표시 | 기기 등록 완료 | 1. 대시보드 진입 | `#device-status-list`에 등록 기기 표시, online/offline 상태 뱃지 표시 | 중 |
| TC-DSH-008 | 정상 | 알림 벨 아이콘 클릭 시 모달 열기 | 대시보드 표시 | 1. 상단 네비게이션의 알림 벨 아이콘 클릭 | 알림 모달 팝업, 전체 알림 목록 표시, 읽지 않은 알림 카운트 배지 업데이트 | 중 |
| TC-DSH-009 | UI | 네비게이션 메뉴 활성 상태 | 대시보드 표시 | 1. 대시보드 탭 선택 상태 확인 | "대시보드" 메뉴 항목이 `active` 클래스 보유, 다른 메뉴는 비활성 | 하 |
| TC-DSH-010 | UI | 현재 날짜 표시 | 대시보드 진입 | 1. `#current-date` 영역 확인 | 오늘 날짜가 올바른 형식으로 표시됨 | 하 |
| TC-DSH-011 | 정상 | 로그아웃 버튼 동작 | 로그인 상태 | 1. 상단 네비게이션의 로그아웃 아이콘 클릭 | `currentUser = null`, 세션 정보 초기화, 로그인 화면(`#login-page`)으로 이동 | 상 |
| TC-DSH-012 | 예외 | 센서 미등록 시 활동량 표시 | 기기/센서 미등록 상태로 로그인 | 1. 대시보드 진입 | 활동량 0 표시, "측정중" 또는 기본값 뱃지 표시, 에러 발생하지 않음 | 중 |

---

## 4. AI 음성 대화 - 보미 (bomi.html)

| 항목 | 내용 |
|------|------|
| 화면 경로 | `/` (index.html 내 `#bomi-chat-view`) |
| 화면 ID | bomi-chat-view |
| 접근 권한 | 로그인 사용자 (보호자) |
| API | `POST /api/check-sensor`, `POST /api/create-voice-session`, `POST /api/analyze` (SSE), `GET /api/tts-audio/<filename>` |
| 관련 요구사항 | REQ-VOICE-001 음성 녹음 및 STT, REQ-VOICE-002 감정 분석, REQ-VOICE-003 AI 응답 생성, REQ-VOICE-004 TTS 음성 출력 |
| 관련 유스케이스 | UC-010 음성 대화, UC-011 감정 분석 확인, UC-012 AI 응답 청취 |

| TC-ID | 분류 | 테스트 케이스명 | 사전조건 | 테스트 단계 | 예상 결과 | 우선순위 |
|-------|------|----------------|----------|------------|-----------|----------|
| TC-BMI-001 | 정상 | 녹음 버튼 클릭하여 녹음 시작 | 센서 등록 완료, 마이크 권한 허용 | 1. 보미 화면 진입<br>2. 마이크 버튼(`#record-btn`) 클릭 | 녹음 시작, 버튼 아이콘 변경(mic -> stop), 음성 파형(`#voice-wave`) 애니메이션, `#bomi-status` "녹음 중" 표시 | 상 |
| TC-BMI-002 | 정상 | 녹음 정지 후 음성 분석 (STT) | 녹음 진행 중 | 1. 마이크 버튼 다시 클릭 (녹음 정지) | 녹음 중지, `/api/create-voice-session` 호출하여 sensing_id 획득 후 `/api/analyze`에 음성 파일 전송, SSE로 분석 진행 상황 수신 (step 1~7) | 상 |
| TC-BMI-003 | 정상 | STT 텍스트 결과 표시 | 음성 분석 완료 | 1. 녹음 후 분석 대기 | SSE step 3에서 STT 텍스트 미리보기 수신, `#chat-messages`에 사용자 발화 텍스트 말풍선 표시 | 상 |
| TC-BMI-004 | 정상 | 감정 분석 결과 표시 | 음성 분석 완료 | 1. 분석 결과 확인 | `#analysis-emotion`에 감정 라벨 표시 (기쁨/슬픔/분노/불안/당황/상처/중립), SSE step 4에서 감정 + 확신도 퍼센트 표시 | 상 |
| TC-BMI-005 | 정상 | AI 응답 텍스트 표시 | 감정 분석 완료, LLM 핸들러 활성 | 1. 분석 완료 대기 | SSE step 5.7에서 `ai_response` 수신, `#chat-messages`에 보미 응답 말풍선 표시 | 상 |
| TC-BMI-006 | 정상 | TTS 음성 재생 | AI 응답 생성 + TTS 생성 완료 | 1. SSE step 5.7에서 `tts_file` 수신 | `/api/tts-audio/<tts_filename>` 경로로 MP3 파일 자동 재생, 스피커를 통해 보미 음성 출력 | 상 |
| TC-BMI-007 | 정상 | 실시간 분석 패널 업데이트 | 분석 완료 | 1. 우측 분석 패널 확인 | 감정 상태(`#analysis-emotion`), 음성 톤(`#analysis-tone`), 말하기 속도(`#analysis-speed`), 명확도(`#analysis-clarity`) 모두 업데이트 | 중 |
| TC-BMI-008 | 정상 | 대화 통계 업데이트 | 1회 이상 대화 완료 | 1. 대화 기록 패널 확인 | 총 대화 수(`#stat-total`), 대화 시간(`#stat-duration`), 단어 수(`#stat-words`) 누적 업데이트 | 중 |
| TC-BMI-009 | 예외 | 센서 미등록 시 녹음 버튼 비활성화 | 센서 미등록 상태 | 1. 보미 화면 진입<br>2. `/api/check-sensor` 응답 `has_sensor: false` | 녹음 버튼 비활성화, "센서를 먼저 등록해주세요" 안내 메시지 표시 | 상 |
| TC-BMI-010 | 예외 | 음성 분석 실패 시 에러 처리 | 분석기 초기화 안 됨 (503) | 1. 녹음 후 분석 요청 | SSE step 'error' 수신, 에러 메시지 표시 ("음성 분석기가 초기화되지 않았습니다"), 화면 정상 유지 | 상 |
| TC-BMI-011 | 예외 | TTS 생성 실패 시에도 AI 텍스트 응답 표시 | TTS 핸들러 오류 발생 | 1. 음성 분석 + AI 응답 생성 성공<br>2. TTS 생성 중 에러 | SSE step 5.7에서 `message: 'TTS 실패'`와 함께 `ai_response` 텍스트는 정상 표시, 음성 재생은 건너뜀 | 중 |
| TC-BMI-012 | UI | 초기 화면 상태 확인 | 보미 화면 진입 직후 | 1. 화면 요소 확인 | 보미 아바타 이미지, "안녕하세요! 저는 보미예요" 인사말, "대기 중" 상태, 분석 패널 "분석 대기" 표시 | 하 |
| TC-BMI-013 | 정상 | Q&A 더미 데이터 매칭 시 감정 점수 덮어쓰기 | LLM Q&A 데이터셋 매칭 조건 충족 | 1. Q&A 매칭 가능한 발화 녹음<br>2. 분석 완료 | `qa_matched: true`, 더미 데이터의 감정/점수로 최종 결과 덮어쓰기, DB에 반영된 값 저장 | 중 |
| TC-BMI-014 | 정상 | 연속 대화 (2회 이상 녹음) | 첫 번째 대화 완료 | 1. 첫 번째 녹음 및 분석 완료<br>2. 다시 마이크 버튼 클릭하여 두 번째 녹음 | 대화 기록에 이전 + 새 대화 누적 표시, 통계 갱신, 기존 분석 결과 새 결과로 교체 | 중 |

---

## 5. 리포트 (report.html)

| 항목 | 내용 |
|------|------|
| 화면 경로 | `/` (index.html 내 `#report-view`) |
| 화면 ID | report-view |
| 접근 권한 | 로그인 사용자 (보호자) |
| API | `POST /api/activity-weekly`, `POST /api/activity-monthly`, `POST /api/alert-list` |
| 관련 요구사항 | REQ-RPT-001 주간/월간 활동 리포트, REQ-RPT-002 감정 변화 추이, REQ-RPT-003 환경 추이 |
| 관련 유스케이스 | UC-020 주간 리포트 조회, UC-021 월간 리포트 조회, UC-022 알림 이력 확인 |

| TC-ID | 분류 | 테스트 케이스명 | 사전조건 | 테스트 단계 | 예상 결과 | 우선순위 |
|-------|------|----------------|----------|------------|-----------|----------|
| TC-RPT-001 | 정상 | 주간 활동량 차트 렌더링 | 최근 7일 센서 데이터 존재 | 1. 리포트 화면 진입<br>2. "주간" 탭 선택 (기본) | `/api/activity-weekly` 호출, `#activity-chart`에 최근 7일간 활동량 바 차트 표시 | 상 |
| TC-RPT-002 | 정상 | 월간 활동량 차트 렌더링 | 최근 4주 센서 데이터 존재 | 1. "월간" 탭 클릭 | `/api/activity-monthly` 호출, `#activity-chart`에 최근 4주간 활동량 차트 표시 | 상 |
| TC-RPT-003 | 정상 | 주간/월간 기간 전환 | 리포트 화면 표시 | 1. "주간" 클릭 -> "월간" 클릭 -> "주간" 다시 클릭 | 클릭할 때마다 해당 기간 데이터로 모든 차트 갱신, 활성 탭 하이라이트 변경 | 상 |
| TC-RPT-004 | 정상 | 주간 수면 패턴 차트 렌더링 | 수면 데이터 존재 | 1. 리포트 화면 진입 | `#sleep-chart`에 수면 패턴 차트 표시 | 중 |
| TC-RPT-005 | 정상 | 주간 감정 변화 차트 렌더링 | 감정 분석 이력 존재 | 1. 리포트 화면 진입 | `#emotion-report-chart`에 감정 변화 추이 라인/바 차트 표시 | 상 |
| TC-RPT-006 | 정상 | 주간 인지 활동 차트 렌더링 | 인지 활동 데이터 존재 | 1. 리포트 화면 진입 | `#cognitive-report-chart`에 인지 활동 차트 표시 | 중 |
| TC-RPT-007 | 정상 | 주간 환경 추이 차트 렌더링 (전체 폭) | 환경 센서 데이터 존재 | 1. 리포트 화면 진입 | `#env-report-chart`에 환경 데이터 추이 차트 전체 폭(`full-width`) 표시 | 중 |
| TC-RPT-008 | 정상 | 주의/위험 발생 이력 목록 표시 | 알림 이력 데이터 존재 | 1. 리포트 화면 진입 | `#alert-history-list`에 주의/위험 이력 목록 표시 (type, title, description, time, resolved 상태) | 중 |
| TC-RPT-009 | UI | 차트 타이틀 동적 변경 | 리포트 화면 표시 | 1. "주간" 탭 선택<br>2. "월간" 탭 선택 | 각 차트의 타이틀 텍스트가 "주간" -> "월간"으로 동적 변경 (`#activity-report-title` 등) | 하 |
| TC-RPT-010 | 예외 | 데이터 없는 상태에서 차트 표시 | 센서 데이터 없음, 활동 이력 없음 | 1. 신규 가입 직후 리포트 진입 | 차트에 0 데이터 표시, 에러 없이 빈 차트 렌더링, "데이터 없음" 상태 정상 처리 | 중 |
| TC-RPT-011 | 예외 | 모션 센서 미등록 상태에서 활동량 조회 | 센서 미등록 | 1. 리포트 화면 진입 | `/api/activity-weekly` 응답 `data: [0,0,0,0,0,0,0]`, 차트에 0으로 렌더링 | 중 |

---

## 6. 건강체크 (health.html)

| 항목 | 내용 |
|------|------|
| 화면 경로 | `/` (index.html 내 `#healthcheck-view`) |
| 화면 ID | healthcheck-view |
| 접근 권한 | 로그인 사용자 (보호자) |
| API | Grafana 대시보드 iframe 연동 |
| 관련 요구사항 | REQ-HLT-001 실시간 센서 모니터링, REQ-HLT-002 Grafana 대시보드 연동 |
| 관련 유스케이스 | UC-030 실시간 건강 데이터 조회, UC-031 센서 상태 모니터링 |

| TC-ID | 분류 | 테스트 케이스명 | 사전조건 | 테스트 단계 | 예상 결과 | 우선순위 |
|-------|------|----------------|----------|------------|-----------|----------|
| TC-HLT-001 | 정상 | Grafana iframe 정상 로드 | Grafana 서버 가동, 대시보드 설정 완료 | 1. 헬스체크 메뉴 클릭 | `#grafana-iframe`에 Grafana 대시보드 정상 로드, 센서 데이터 실시간 표시 | 상 |
| TC-HLT-002 | 정상 | iframe 전체 화면 표시 | 헬스체크 화면 진입 | 1. 화면 레이아웃 확인 | iframe이 전체 높이/너비로 표시 (padding: 0, border: none, flex: 1) | 중 |
| TC-HLT-003 | 예외 | Grafana 서버 미가동 시 처리 | Grafana 서버 중지 | 1. 헬스체크 메뉴 클릭 | iframe 내 연결 실패 페이지 또는 빈 화면, 메인 앱은 정상 작동 유지 | 상 |
| TC-HLT-004 | 예외 | Grafana URL 미설정 시 처리 | `#grafana-iframe` src 비어있음 | 1. 헬스체크 메뉴 클릭 | 빈 iframe 표시, JavaScript 에러 없음, 다른 메뉴 전환 정상 | 중 |
| TC-HLT-005 | UI | 다른 메뉴에서 헬스체크 전환 | 대시보드 표시 중 | 1. 네비게이션에서 "헬스체크" 클릭 | `#healthcheck-view`가 `active` 클래스 획득, 이전 뷰 숨김, iframe 표시 | 중 |
| TC-HLT-006 | UI | 헬스체크에서 다른 메뉴로 전환 | 헬스체크 화면 표시 중 | 1. "대시보드" 메뉴 클릭 | 헬스체크 뷰 숨김, 대시보드 뷰 활성화, iframe 리소스 불필요 요청 중단 확인 | 중 |
| TC-HLT-007 | 정상 | Grafana 대시보드 데이터 자동 갱신 | Grafana 자동 갱신 설정 활성 | 1. 헬스체크 화면 유지<br>2. 5-10초 대기 | Grafana 내장 자동 갱신에 의해 센서 데이터 업데이트 반영 | 중 |
| TC-HLT-008 | UI | 화면 전체 레이아웃 (overflow 처리) | 헬스체크 화면 표시 | 1. 스크롤 동작 확인 | `overflow: hidden` 적용, 불필요한 스크롤 미발생, card 내부 iframe만 스크롤 | 하 |
| TC-HLT-009 | 예외 | 네트워크 불안정 시 iframe 로드 | 네트워크 지연 환경 | 1. 헬스체크 메뉴 클릭 | iframe 로딩 중 상태 표시, 타임아웃 시에도 메인 앱 정상 작동 | 하 |
| TC-HLT-010 | 정상 | 브라우저 크기 변경 시 iframe 반응형 | 헬스체크 화면 표시 | 1. 브라우저 창 크기 변경 (가로/세로) | iframe이 부모 컨테이너에 맞춰 자동 리사이즈 (flex: 1, width: 100%, height: 100%) | 하 |

---

## 7. 마이페이지 (mypage.html)

| 항목 | 내용 |
|------|------|
| 화면 경로 | `/` (index.html 내 `#mypage-view`) |
| 화면 ID | mypage-view |
| 접근 권한 | 로그인 사용자 (보호자) |
| API | `POST /api/update-guardian`, `POST /api/update-senior`, `POST /api/change-password`, `POST /api/add-device` |
| 관련 요구사항 | REQ-MYP-001 보호자 정보 수정, REQ-MYP-002 어르신 정보 수정, REQ-MYP-003 비밀번호 변경, REQ-MYP-004 기기 관리 |
| 관련 유스케이스 | UC-040 내 정보 수정, UC-041 어르신 정보 수정, UC-042 비밀번호 변경, UC-043 기기 추가/삭제 |

| TC-ID | 분류 | 테스트 케이스명 | 사전조건 | 테스트 단계 | 예상 결과 | 우선순위 |
|-------|------|----------------|----------|------------|-----------|----------|
| TC-MYP-001 | 정상 | 내 정보 표시 (마스킹 적용) | 정상 로그인 완료 | 1. 마이페이지 진입 | 이름(`#mypage-name`), 아이디(`#mypage-username`) 표시, 연락처(`#mypage-phone`)는 `010-****-5678` 형태로 마스킹, 주소도 일부 마스킹 | 상 |
| TC-MYP-002 | 정상 | 보호자 정보 수정 | 마이페이지 표시 | 1. 내 정보 영역 "수정" 버튼 클릭<br>2. 수정 모달에서 연락처/주소 변경<br>3. 저장 | `/api/update-guardian` 호출 성공, "보호자 정보 수정 성공" 메시지, 변경 내용 마이페이지에 반영 | 상 |
| TC-MYP-003 | 정상 | 어르신 정보 표시 | 어르신 등록 완료 | 1. 마이페이지 진입 | 성함, 생년월일(마스킹), 성별, 주거형태, 연락처(마스킹), 주소(마스킹) 정상 표시 | 상 |
| TC-MYP-004 | 정상 | 어르신 정보 수정 | 마이페이지 표시 | 1. 어르신 정보 영역 "수정" 버튼 클릭<br>2. 수정 모달에서 연락처/주소 변경<br>3. 저장 | `/api/update-senior` 호출 성공, "어르신 정보 수정 성공" 메시지, 변경 내용 마이페이지에 반영 | 상 |
| TC-MYP-005 | 정상 | 비밀번호 변경 성공 | 마이페이지 표시 | 1. "비밀번호 변경" 섹션 펼치기<br>2. 현재 비밀번호 입력<br>3. 새 비밀번호 입력<br>4. 새 비밀번호 확인 입력<br>5. "변경하기" 클릭 | `/api/change-password` 호출 성공, "비밀번호 변경 성공" 메시지, 폼 초기화 | 상 |
| TC-MYP-006 | 예외 | 현재 비밀번호 불일치 시 변경 실패 | 마이페이지 표시 | 1. 잘못된 현재 비밀번호 입력<br>2. 새 비밀번호 입력<br>3. "변경하기" 클릭 | 400 응답, "현재 비밀번호가 일치하지 않습니다." 에러 메시지 표시 | 상 |
| TC-MYP-007 | Validation | 새 비밀번호 형식 검증 | 비밀번호 변경 폼 표시 | 1. 새 비밀번호에 "1234" (단순) 입력<br>2. "변경하기" 클릭 | `data-rule="password"` 검증 실패, 올바른 형식 요구 에러 표시 | 중 |
| TC-MYP-008 | Validation | 새 비밀번호/확인 불일치 | 비밀번호 변경 폼 표시 | 1. 새 비밀번호: "NewPass@123"<br>2. 새 비밀번호 확인: "NewPass@456"<br>3. "변경하기" 클릭 | "비밀번호가 일치하지 않습니다" 에러 표시, API 호출되지 않음 | 중 |
| TC-MYP-009 | 정상 | 등록된 기기 목록 표시 | 기기 1개 이상 등록 | 1. 마이페이지 진입 | `#mypage-device-list`에 등록 기기 목록 표시 (시리얼, 이름, 위치, 상태) | 중 |
| TC-MYP-010 | 정상 | 기기 추가 (마이페이지에서) | 마이페이지 표시 | 1. 기기 영역 "+" 버튼 클릭<br>2. 기기 추가 모달에서 시리얼/이름/위치 입력<br>3. 등록 | `/api/add-device` 호출 성공, 기기 목록에 새 기기 추가, 센서 자동 등록 (env/motion 구분) | 상 |
| TC-MYP-011 | UI | 비밀번호 변경 섹션 토글 | 마이페이지 표시 | 1. "비밀번호 변경" 헤더 클릭 | `#password-form-wrapper` 펼침/접힘 토글, 화살표 아이콘 방향 전환 | 하 |
| TC-MYP-012 | UI | 알림 설정 토글 스위치 | 마이페이지 표시 | 1. "미동 없음 감지 알림" 토글 끔<br>2. "응급상황 알림" 토글 끔 | 각각 `isAbnormalAlertOn`, `isEmergencyAlertOn` 변수값 변경, 토글 UI 상태 반영 | 중 |
| TC-MYP-013 | 예외 | 보호자 정보 수정 시 서버 오류 | DB 연결 장애 | 1. 보호자 정보 수정 후 저장 | 500 에러, 에러 메시지 표시, 원본 데이터 유지 (rollback) | 중 |

---

## 8. 비기능 테스트

### 8.1 성능 테스트

| TC-ID | 분류 | 테스트 케이스명 | 사전조건 | 테스트 단계 | 예상 결과 | 우선순위 |
|-------|------|----------------|----------|------------|-----------|----------|
| TC-NFR-001 | 성능 | 로그인 API 응답 시간 | 서버 정상 가동 | 1. 로그인 API 호출<br>2. 응답 시간 측정 | 응답 시간 1초 이내 | 상 |
| TC-NFR-002 | 성능 | 음성 분석 처리 시간 (STT + 감정 분석) | 음성 분석기 로드 완료 | 1. 5초 분량 음성 녹음<br>2. 분석 요청<br>3. 전체 처리 시간 측정 | STT + 감정 분석 + AI 응답 + TTS 생성 전체 30초 이내 | 상 |
| TC-NFR-003 | 성능 | 대시보드 초기 로딩 시간 | 로그인 완료 | 1. 대시보드 진입<br>2. 모든 차트 렌더링 완료 시간 측정 | 차트 포함 전체 렌더링 3초 이내 | 중 |
| TC-NFR-004 | 성능 | SSE 실시간 전송 지연 시간 | 음성 분석 진행 중 | 1. SSE 스트림 연결<br>2. 각 step 수신 간격 측정 | 각 step 메시지 수신 시 1초 이내 지연, 연결 끊김 없음 | 중 |
| TC-NFR-005 | 성능 | 동시 접속 처리 | Flask 서버 가동 | 1. 3명 동시 로그인<br>2. 각각 음성 분석 요청 | 모든 요청 정상 처리, 응답 지연 60초 이내 | 하 |

### 8.2 보안 테스트

| TC-ID | 분류 | 테스트 케이스명 | 사전조건 | 테스트 단계 | 예상 결과 | 우선순위 |
|-------|------|----------------|----------|------------|-----------|----------|
| TC-NFR-006 | 보안 | SQL Injection 방어 | 로그인 화면 | 1. 아이디에 `' OR 1=1 --` 입력<br>2. 로그인 시도 | SQL Injection 실패 (pymysql 파라미터 바인딩), 로그인 거부 | 상 |
| TC-NFR-007 | 보안 | XSS 방어 (채팅 메시지) | 보미 대화 화면 | 1. `<script>alert('xss')</script>` 발화 텍스트가 STT로 반환되는 시나리오<br>2. 채팅 창에 표시 | 스크립트 실행되지 않음, HTML 엔티티 이스케이프 처리 | 상 |
| TC-NFR-008 | 보안 | 비밀번호 평문 저장 확인 | 회원가입 완료 후 | 1. DB에서 tb_guardian 테이블 password 컬럼 직접 조회 | 현재 평문 저장 상태 확인 (개선 필요 항목으로 기록) | 상 |
| TC-NFR-009 | 보안 | CORS 정책 확인 | 서버 가동 | 1. 허용되지 않은 Origin에서 API 호출 | 현재 `allow_origins=["*"]` 설정 확인 (운영 환경 전 제한 필요) | 중 |
| TC-NFR-010 | 보안 | 세션 쿠키 보안 설정 확인 | 서버 가동 | 1. 브라우저 개발자 도구에서 쿠키 확인 | `SESSION_COOKIE_SAMESITE='None'`, `SESSION_COOKIE_SECURE=True` 설정 확인 | 중 |
| TC-NFR-011 | 보안 | 개인정보 마스킹 처리 확인 | 로그인 후 마이페이지 진입 | 1. 연락처 표시 확인<br>2. 주소 표시 확인<br>3. 생년월일 표시 확인 | 모든 민감 정보에 `****` 마스킹 적용 (중간 자리 숨김) | 상 |

### 8.3 브라우저 호환성 테스트

| TC-ID | 분류 | 테스트 케이스명 | 사전조건 | 테스트 단계 | 예상 결과 | 우선순위 |
|-------|------|----------------|----------|------------|-----------|----------|
| TC-NFR-012 | 호환성 | Chrome 최신 버전 | Chrome 120+ | 1. 전체 기능 테스트 수행 | 모든 기능 정상 작동 (주요 대상 브라우저) | 상 |
| TC-NFR-013 | 호환성 | Edge 최신 버전 | Edge 120+ | 1. 로그인, 대시보드, 보미 대화, 리포트 테스트 | 모든 기능 정상 작동, 차트 렌더링 정상 | 중 |
| TC-NFR-014 | 호환성 | Safari 최신 버전 (iOS) | Safari 17+ | 1. 모바일 환경에서 주요 기능 테스트 | 로그인/대시보드 표시, 음성 녹음 시 마이크 권한 요청 정상 | 중 |
| TC-NFR-015 | 호환성 | 모바일 반응형 레이아웃 | 모바일 브라우저 (375px 너비) | 1. 로그인 화면 레이아웃<br>2. 대시보드 카드 배치<br>3. 보미 대화 화면 레이아웃 | 화면 요소 겹침 없이 세로 배치, 터치 영역 충분, 가독성 확보 | 중 |
| TC-NFR-016 | 호환성 | 마이크 API (MediaRecorder) 지원 확인 | 각 브라우저 | 1. 보미 대화 화면에서 녹음 시도 | `navigator.mediaDevices.getUserMedia` 정상 호출, MediaRecorder 인스턴스 생성 성공 | 상 |
| TC-NFR-017 | 호환성 | Chart.js 렌더링 호환성 | 각 브라우저 | 1. 대시보드/리포트 차트 표시 확인 | Canvas 기반 Chart.js 차트가 모든 대상 브라우저에서 정상 렌더링 | 중 |

### 8.4 접근성 및 사용성 테스트

| TC-ID | 분류 | 테스트 케이스명 | 사전조건 | 테스트 단계 | 예상 결과 | 우선순위 |
|-------|------|----------------|----------|------------|-----------|----------|
| TC-NFR-018 | 접근성 | 큰 글씨 모드 가독성 | 브라우저 줌 150% | 1. 전체 화면 확대<br>2. 주요 화면 확인 | 텍스트 잘림 없이 가독성 유지, 레이아웃 깨짐 최소화 | 중 |
| TC-NFR-019 | 사용성 | 토스트 알림 자동 닫힘 | 작업 성공/실패 | 1. 정보 수정 성공 시 토스트 표시 확인<br>2. 일정 시간 후 자동 사라짐 확인 | 토스트 3-5초 후 자동 닫힘, 수동 닫기도 가능 | 하 |
| TC-NFR-020 | 사용성 | Material Icons 로드 확인 | 앱 접속 | 1. 모든 아이콘 표시 확인 | `material-icons-round` 아이콘이 깨지지 않고 정상 표시 | 하 |

---

## 9. 문서 이력

| 버전 | 작성일 | 작성자 | 변경 내용 |
|------|--------|--------|-----------|
| 1.0 | 2026-02-09 | 늘봄 개발팀 | 초기 작성 - 전체 화면별 테스트 케이스 86건 정의 |

---

### 테스트 케이스 요약

| 화면/영역 | TC 수 | 정상 | 예외 | Validation | UI |
|-----------|-------|------|------|------------|-----|
| 로그인 (LGN) | 10 | 4 | 2 | 2 | 2 |
| 회원가입 (SGN) | 15 | 4 | 2 | 5 | 4 |
| 대시보드 (DSH) | 12 | 8 | 1 | 0 | 3 |
| 보미 대화 (BMI) | 14 | 10 | 3 | 0 | 1 |
| 리포트 (RPT) | 11 | 8 | 2 | 0 | 1 |
| 건강체크 (HLT) | 10 | 4 | 3 | 0 | 3 |
| 마이페이지 (MYP) | 13 | 6 | 2 | 2 | 3 |
| 비기능 (NFR) | 20 | - | - | - | - |
| **합계** | **105** | | | | |
